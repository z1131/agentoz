spring:
  main:
    allow-bean-definition-overriding: true

server:
  port: 8003

dubbo:
  # 配置服务发现使用与Nacos Discovery相同的group
  registry:
    group: ${NACOS_GROUP:DEEPKNOW_GROUP}

management:
  tracing:
    sampling:
      probability: 1.0
    baggage:
      correlation:
        enabled: true

# Spring Boot 3.x 自动将traceId/spanId注入MDC
logging:
  pattern:
    correlation: "[%X{traceId:-},%X{spanId:-}] "
  include-application-name: false

# MCP Server 配置
agentoz:
  mcp:
    enabled: true
    server-name: agentoz
    server-version: 1.0.0
    http-endpoint: /mcp

# Codex-Agent 配置
codex:
  agent:
    host: ${CODEX_AGENT_HOST:localhost}
    port: ${CODEX_AGENT_PORT:50051}
