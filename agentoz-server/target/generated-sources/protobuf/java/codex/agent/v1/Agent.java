// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: agent.proto

package codex.agent.v1;

public final class Agent {
  private Agent() {}
  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistryLite registry) {
  }

  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistry registry) {
    registerAllExtensions(
        (com.google.protobuf.ExtensionRegistryLite) registry);
  }
  public interface RunTaskRequestOrBuilder extends
      // @@protoc_insertion_point(interface_extends:codex.agent.v1.RunTaskRequest)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>string session_id = 1;</code>
     * @return The sessionId.
     */
    java.lang.String getSessionId();
    /**
     * <code>string session_id = 1;</code>
     * @return The bytes for sessionId.
     */
    com.google.protobuf.ByteString
        getSessionIdBytes();

    /**
     * <pre>
     * 代理配置 (JSON 格式，对应 SessionConfigDto)
     * </pre>
     *
     * <code>string config_json = 2;</code>
     * @return The configJson.
     */
    java.lang.String getConfigJson();
    /**
     * <pre>
     * 代理配置 (JSON 格式，对应 SessionConfigDto)
     * </pre>
     *
     * <code>string config_json = 2;</code>
     * @return The bytes for configJson.
     */
    com.google.protobuf.ByteString
        getConfigJsonBytes();

    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @return A list containing the historyItemsJson.
     */
    java.util.List<java.lang.String>
        getHistoryItemsJsonList();
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @return The count of historyItemsJson.
     */
    int getHistoryItemsJsonCount();
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @param index The index of the element to return.
     * @return The historyItemsJson at the given index.
     */
    java.lang.String getHistoryItemsJson(int index);
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @param index The index of the value to return.
     * @return The bytes of the historyItemsJson at the given index.
     */
    com.google.protobuf.ByteString
        getHistoryItemsJsonBytes(int index);

    /**
     * <pre>
     * 用户新输入
     * </pre>
     *
     * <code>.codex.agent.v1.UserInput input = 4;</code>
     * @return Whether the input field is set.
     */
    boolean hasInput();
    /**
     * <pre>
     * 用户新输入
     * </pre>
     *
     * <code>.codex.agent.v1.UserInput input = 4;</code>
     * @return The input.
     */
    codex.agent.v1.Agent.UserInput getInput();
    /**
     * <pre>
     * 用户新输入
     * </pre>
     *
     * <code>.codex.agent.v1.UserInput input = 4;</code>
     */
    codex.agent.v1.Agent.UserInputOrBuilder getInputOrBuilder();
  }
  /**
   * Protobuf type {@code codex.agent.v1.RunTaskRequest}
   */
  public static final class RunTaskRequest extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:codex.agent.v1.RunTaskRequest)
      RunTaskRequestOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use RunTaskRequest.newBuilder() to construct.
    private RunTaskRequest(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private RunTaskRequest() {
      sessionId_ = "";
      configJson_ = "";
      historyItemsJson_ =
          com.google.protobuf.LazyStringArrayList.emptyList();
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new RunTaskRequest();
    }

    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskRequest_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              codex.agent.v1.Agent.RunTaskRequest.class, codex.agent.v1.Agent.RunTaskRequest.Builder.class);
    }

    private int bitField0_;
    public static final int SESSION_ID_FIELD_NUMBER = 1;
    @SuppressWarnings("serial")
    private volatile java.lang.Object sessionId_ = "";
    /**
     * <code>string session_id = 1;</code>
     * @return The sessionId.
     */
    @java.lang.Override
    public java.lang.String getSessionId() {
      java.lang.Object ref = sessionId_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        sessionId_ = s;
        return s;
      }
    }
    /**
     * <code>string session_id = 1;</code>
     * @return The bytes for sessionId.
     */
    @java.lang.Override
    public com.google.protobuf.ByteString
        getSessionIdBytes() {
      java.lang.Object ref = sessionId_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        sessionId_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int CONFIG_JSON_FIELD_NUMBER = 2;
    @SuppressWarnings("serial")
    private volatile java.lang.Object configJson_ = "";
    /**
     * <pre>
     * 代理配置 (JSON 格式，对应 SessionConfigDto)
     * </pre>
     *
     * <code>string config_json = 2;</code>
     * @return The configJson.
     */
    @java.lang.Override
    public java.lang.String getConfigJson() {
      java.lang.Object ref = configJson_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        configJson_ = s;
        return s;
      }
    }
    /**
     * <pre>
     * 代理配置 (JSON 格式，对应 SessionConfigDto)
     * </pre>
     *
     * <code>string config_json = 2;</code>
     * @return The bytes for configJson.
     */
    @java.lang.Override
    public com.google.protobuf.ByteString
        getConfigJsonBytes() {
      java.lang.Object ref = configJson_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        configJson_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int HISTORY_ITEMS_JSON_FIELD_NUMBER = 3;
    @SuppressWarnings("serial")
    private com.google.protobuf.LazyStringArrayList historyItemsJson_ =
        com.google.protobuf.LazyStringArrayList.emptyList();
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @return A list containing the historyItemsJson.
     */
    public com.google.protobuf.ProtocolStringList
        getHistoryItemsJsonList() {
      return historyItemsJson_;
    }
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @return The count of historyItemsJson.
     */
    public int getHistoryItemsJsonCount() {
      return historyItemsJson_.size();
    }
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @param index The index of the element to return.
     * @return The historyItemsJson at the given index.
     */
    public java.lang.String getHistoryItemsJson(int index) {
      return historyItemsJson_.get(index);
    }
    /**
     * <pre>
     * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
     * </pre>
     *
     * <code>repeated string history_items_json = 3;</code>
     * @param index The index of the value to return.
     * @return The bytes of the historyItemsJson at the given index.
     */
    public com.google.protobuf.ByteString
        getHistoryItemsJsonBytes(int index) {
      return historyItemsJson_.getByteString(index);
    }

    public static final int INPUT_FIELD_NUMBER = 4;
    private codex.agent.v1.Agent.UserInput input_;
    /**
     * <pre>
     * 用户新输入
     * </pre>
     *
     * <code>.codex.agent.v1.UserInput input = 4;</code>
     * @return Whether the input field is set.
     */
    @java.lang.Override
    public boolean hasInput() {
      return ((bitField0_ & 0x00000001) != 0);
    }
    /**
     * <pre>
     * 用户新输入
     * </pre>
     *
     * <code>.codex.agent.v1.UserInput input = 4;</code>
     * @return The input.
     */
    @java.lang.Override
    public codex.agent.v1.Agent.UserInput getInput() {
      return input_ == null ? codex.agent.v1.Agent.UserInput.getDefaultInstance() : input_;
    }
    /**
     * <pre>
     * 用户新输入
     * </pre>
     *
     * <code>.codex.agent.v1.UserInput input = 4;</code>
     */
    @java.lang.Override
    public codex.agent.v1.Agent.UserInputOrBuilder getInputOrBuilder() {
      return input_ == null ? codex.agent.v1.Agent.UserInput.getDefaultInstance() : input_;
    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(sessionId_)) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, sessionId_);
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(configJson_)) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 2, configJson_);
      }
      for (int i = 0; i < historyItemsJson_.size(); i++) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 3, historyItemsJson_.getRaw(i));
      }
      if (((bitField0_ & 0x00000001) != 0)) {
        output.writeMessage(4, getInput());
      }
      getUnknownFields().writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(sessionId_)) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, sessionId_);
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(configJson_)) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(2, configJson_);
      }
      {
        int dataSize = 0;
        for (int i = 0; i < historyItemsJson_.size(); i++) {
          dataSize += computeStringSizeNoTag(historyItemsJson_.getRaw(i));
        }
        size += dataSize;
        size += 1 * getHistoryItemsJsonList().size();
      }
      if (((bitField0_ & 0x00000001) != 0)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, getInput());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof codex.agent.v1.Agent.RunTaskRequest)) {
        return super.equals(obj);
      }
      codex.agent.v1.Agent.RunTaskRequest other = (codex.agent.v1.Agent.RunTaskRequest) obj;

      if (!getSessionId()
          .equals(other.getSessionId())) return false;
      if (!getConfigJson()
          .equals(other.getConfigJson())) return false;
      if (!getHistoryItemsJsonList()
          .equals(other.getHistoryItemsJsonList())) return false;
      if (hasInput() != other.hasInput()) return false;
      if (hasInput()) {
        if (!getInput()
            .equals(other.getInput())) return false;
      }
      if (!getUnknownFields().equals(other.getUnknownFields())) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + SESSION_ID_FIELD_NUMBER;
      hash = (53 * hash) + getSessionId().hashCode();
      hash = (37 * hash) + CONFIG_JSON_FIELD_NUMBER;
      hash = (53 * hash) + getConfigJson().hashCode();
      if (getHistoryItemsJsonCount() > 0) {
        hash = (37 * hash) + HISTORY_ITEMS_JSON_FIELD_NUMBER;
        hash = (53 * hash) + getHistoryItemsJsonList().hashCode();
      }
      if (hasInput()) {
        hash = (37 * hash) + INPUT_FIELD_NUMBER;
        hash = (53 * hash) + getInput().hashCode();
      }
      hash = (29 * hash) + getUnknownFields().hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public static codex.agent.v1.Agent.RunTaskRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }

    public static codex.agent.v1.Agent.RunTaskRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.RunTaskRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(codex.agent.v1.Agent.RunTaskRequest prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code codex.agent.v1.RunTaskRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:codex.agent.v1.RunTaskRequest)
        codex.agent.v1.Agent.RunTaskRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskRequest_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                codex.agent.v1.Agent.RunTaskRequest.class, codex.agent.v1.Agent.RunTaskRequest.Builder.class);
      }

      // Construct using codex.agent.v1.Agent.RunTaskRequest.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getInputFieldBuilder();
        }
      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        bitField0_ = 0;
        sessionId_ = "";
        configJson_ = "";
        historyItemsJson_ =
            com.google.protobuf.LazyStringArrayList.emptyList();
        input_ = null;
        if (inputBuilder_ != null) {
          inputBuilder_.dispose();
          inputBuilder_ = null;
        }
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskRequest_descriptor;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskRequest getDefaultInstanceForType() {
        return codex.agent.v1.Agent.RunTaskRequest.getDefaultInstance();
      }

      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskRequest build() {
        codex.agent.v1.Agent.RunTaskRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskRequest buildPartial() {
        codex.agent.v1.Agent.RunTaskRequest result = new codex.agent.v1.Agent.RunTaskRequest(this);
        if (bitField0_ != 0) { buildPartial0(result); }
        onBuilt();
        return result;
      }

      private void buildPartial0(codex.agent.v1.Agent.RunTaskRequest result) {
        int from_bitField0_ = bitField0_;
        if (((from_bitField0_ & 0x00000001) != 0)) {
          result.sessionId_ = sessionId_;
        }
        if (((from_bitField0_ & 0x00000002) != 0)) {
          result.configJson_ = configJson_;
        }
        if (((from_bitField0_ & 0x00000004) != 0)) {
          historyItemsJson_.makeImmutable();
          result.historyItemsJson_ = historyItemsJson_;
        }
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000008) != 0)) {
          result.input_ = inputBuilder_ == null
              ? input_
              : inputBuilder_.build();
          to_bitField0_ |= 0x00000001;
        }
        result.bitField0_ |= to_bitField0_;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof codex.agent.v1.Agent.RunTaskRequest) {
          return mergeFrom((codex.agent.v1.Agent.RunTaskRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(codex.agent.v1.Agent.RunTaskRequest other) {
        if (other == codex.agent.v1.Agent.RunTaskRequest.getDefaultInstance()) return this;
        if (!other.getSessionId().isEmpty()) {
          sessionId_ = other.sessionId_;
          bitField0_ |= 0x00000001;
          onChanged();
        }
        if (!other.getConfigJson().isEmpty()) {
          configJson_ = other.configJson_;
          bitField0_ |= 0x00000002;
          onChanged();
        }
        if (!other.historyItemsJson_.isEmpty()) {
          if (historyItemsJson_.isEmpty()) {
            historyItemsJson_ = other.historyItemsJson_;
            bitField0_ |= 0x00000004;
          } else {
            ensureHistoryItemsJsonIsMutable();
            historyItemsJson_.addAll(other.historyItemsJson_);
          }
          onChanged();
        }
        if (other.hasInput()) {
          mergeInput(other.getInput());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                sessionId_ = input.readStringRequireUtf8();
                bitField0_ |= 0x00000001;
                break;
              } // case 10
              case 18: {
                configJson_ = input.readStringRequireUtf8();
                bitField0_ |= 0x00000002;
                break;
              } // case 18
              case 26: {
                java.lang.String s = input.readStringRequireUtf8();
                ensureHistoryItemsJsonIsMutable();
                historyItemsJson_.add(s);
                break;
              } // case 26
              case 34: {
                input.readMessage(
                    getInputFieldBuilder().getBuilder(),
                    extensionRegistry);
                bitField0_ |= 0x00000008;
                break;
              } // case 34
              default: {
                if (!super.parseUnknownField(input, extensionRegistry, tag)) {
                  done = true; // was an endgroup tag
                }
                break;
              } // default:
            } // switch (tag)
          } // while (!done)
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.unwrapIOException();
        } finally {
          onChanged();
        } // finally
        return this;
      }
      private int bitField0_;

      private java.lang.Object sessionId_ = "";
      /**
       * <code>string session_id = 1;</code>
       * @return The sessionId.
       */
      public java.lang.String getSessionId() {
        java.lang.Object ref = sessionId_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          sessionId_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string session_id = 1;</code>
       * @return The bytes for sessionId.
       */
      public com.google.protobuf.ByteString
          getSessionIdBytes() {
        java.lang.Object ref = sessionId_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          sessionId_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string session_id = 1;</code>
       * @param value The sessionId to set.
       * @return This builder for chaining.
       */
      public Builder setSessionId(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        sessionId_ = value;
        bitField0_ |= 0x00000001;
        onChanged();
        return this;
      }
      /**
       * <code>string session_id = 1;</code>
       * @return This builder for chaining.
       */
      public Builder clearSessionId() {
        sessionId_ = getDefaultInstance().getSessionId();
        bitField0_ = (bitField0_ & ~0x00000001);
        onChanged();
        return this;
      }
      /**
       * <code>string session_id = 1;</code>
       * @param value The bytes for sessionId to set.
       * @return This builder for chaining.
       */
      public Builder setSessionIdBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        sessionId_ = value;
        bitField0_ |= 0x00000001;
        onChanged();
        return this;
      }

      private java.lang.Object configJson_ = "";
      /**
       * <pre>
       * 代理配置 (JSON 格式，对应 SessionConfigDto)
       * </pre>
       *
       * <code>string config_json = 2;</code>
       * @return The configJson.
       */
      public java.lang.String getConfigJson() {
        java.lang.Object ref = configJson_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          configJson_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * 代理配置 (JSON 格式，对应 SessionConfigDto)
       * </pre>
       *
       * <code>string config_json = 2;</code>
       * @return The bytes for configJson.
       */
      public com.google.protobuf.ByteString
          getConfigJsonBytes() {
        java.lang.Object ref = configJson_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          configJson_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * 代理配置 (JSON 格式，对应 SessionConfigDto)
       * </pre>
       *
       * <code>string config_json = 2;</code>
       * @param value The configJson to set.
       * @return This builder for chaining.
       */
      public Builder setConfigJson(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        configJson_ = value;
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 代理配置 (JSON 格式，对应 SessionConfigDto)
       * </pre>
       *
       * <code>string config_json = 2;</code>
       * @return This builder for chaining.
       */
      public Builder clearConfigJson() {
        configJson_ = getDefaultInstance().getConfigJson();
        bitField0_ = (bitField0_ & ~0x00000002);
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 代理配置 (JSON 格式，对应 SessionConfigDto)
       * </pre>
       *
       * <code>string config_json = 2;</code>
       * @param value The bytes for configJson to set.
       * @return This builder for chaining.
       */
      public Builder setConfigJsonBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        configJson_ = value;
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }

      private com.google.protobuf.LazyStringArrayList historyItemsJson_ =
          com.google.protobuf.LazyStringArrayList.emptyList();
      private void ensureHistoryItemsJsonIsMutable() {
        if (!historyItemsJson_.isModifiable()) {
          historyItemsJson_ = new com.google.protobuf.LazyStringArrayList(historyItemsJson_);
        }
        bitField0_ |= 0x00000004;
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @return A list containing the historyItemsJson.
       */
      public com.google.protobuf.ProtocolStringList
          getHistoryItemsJsonList() {
        historyItemsJson_.makeImmutable();
        return historyItemsJson_;
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @return The count of historyItemsJson.
       */
      public int getHistoryItemsJsonCount() {
        return historyItemsJson_.size();
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @param index The index of the element to return.
       * @return The historyItemsJson at the given index.
       */
      public java.lang.String getHistoryItemsJson(int index) {
        return historyItemsJson_.get(index);
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @param index The index of the value to return.
       * @return The bytes of the historyItemsJson at the given index.
       */
      public com.google.protobuf.ByteString
          getHistoryItemsJsonBytes(int index) {
        return historyItemsJson_.getByteString(index);
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @param index The index to set the value at.
       * @param value The historyItemsJson to set.
       * @return This builder for chaining.
       */
      public Builder setHistoryItemsJson(
          int index, java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        ensureHistoryItemsJsonIsMutable();
        historyItemsJson_.set(index, value);
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @param value The historyItemsJson to add.
       * @return This builder for chaining.
       */
      public Builder addHistoryItemsJson(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        ensureHistoryItemsJsonIsMutable();
        historyItemsJson_.add(value);
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @param values The historyItemsJson to add.
       * @return This builder for chaining.
       */
      public Builder addAllHistoryItemsJson(
          java.lang.Iterable<java.lang.String> values) {
        ensureHistoryItemsJsonIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, historyItemsJson_);
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @return This builder for chaining.
       */
      public Builder clearHistoryItemsJson() {
        historyItemsJson_ =
          com.google.protobuf.LazyStringArrayList.emptyList();
        bitField0_ = (bitField0_ & ~0x00000004);;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 历史记录 (JSON 格式，对应 List&lt;ResponseItem&gt;)
       * </pre>
       *
       * <code>repeated string history_items_json = 3;</code>
       * @param value The bytes of the historyItemsJson to add.
       * @return This builder for chaining.
       */
      public Builder addHistoryItemsJsonBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        ensureHistoryItemsJsonIsMutable();
        historyItemsJson_.add(value);
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }

      private codex.agent.v1.Agent.UserInput input_;
      private com.google.protobuf.SingleFieldBuilderV3<
          codex.agent.v1.Agent.UserInput, codex.agent.v1.Agent.UserInput.Builder, codex.agent.v1.Agent.UserInputOrBuilder> inputBuilder_;
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       * @return Whether the input field is set.
       */
      public boolean hasInput() {
        return ((bitField0_ & 0x00000008) != 0);
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       * @return The input.
       */
      public codex.agent.v1.Agent.UserInput getInput() {
        if (inputBuilder_ == null) {
          return input_ == null ? codex.agent.v1.Agent.UserInput.getDefaultInstance() : input_;
        } else {
          return inputBuilder_.getMessage();
        }
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      public Builder setInput(codex.agent.v1.Agent.UserInput value) {
        if (inputBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          input_ = value;
        } else {
          inputBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000008;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      public Builder setInput(
          codex.agent.v1.Agent.UserInput.Builder builderForValue) {
        if (inputBuilder_ == null) {
          input_ = builderForValue.build();
        } else {
          inputBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000008;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      public Builder mergeInput(codex.agent.v1.Agent.UserInput value) {
        if (inputBuilder_ == null) {
          if (((bitField0_ & 0x00000008) != 0) &&
            input_ != null &&
            input_ != codex.agent.v1.Agent.UserInput.getDefaultInstance()) {
            getInputBuilder().mergeFrom(value);
          } else {
            input_ = value;
          }
        } else {
          inputBuilder_.mergeFrom(value);
        }
        if (input_ != null) {
          bitField0_ |= 0x00000008;
          onChanged();
        }
        return this;
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      public Builder clearInput() {
        bitField0_ = (bitField0_ & ~0x00000008);
        input_ = null;
        if (inputBuilder_ != null) {
          inputBuilder_.dispose();
          inputBuilder_ = null;
        }
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      public codex.agent.v1.Agent.UserInput.Builder getInputBuilder() {
        bitField0_ |= 0x00000008;
        onChanged();
        return getInputFieldBuilder().getBuilder();
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      public codex.agent.v1.Agent.UserInputOrBuilder getInputOrBuilder() {
        if (inputBuilder_ != null) {
          return inputBuilder_.getMessageOrBuilder();
        } else {
          return input_ == null ?
              codex.agent.v1.Agent.UserInput.getDefaultInstance() : input_;
        }
      }
      /**
       * <pre>
       * 用户新输入
       * </pre>
       *
       * <code>.codex.agent.v1.UserInput input = 4;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          codex.agent.v1.Agent.UserInput, codex.agent.v1.Agent.UserInput.Builder, codex.agent.v1.Agent.UserInputOrBuilder> 
          getInputFieldBuilder() {
        if (inputBuilder_ == null) {
          inputBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              codex.agent.v1.Agent.UserInput, codex.agent.v1.Agent.UserInput.Builder, codex.agent.v1.Agent.UserInputOrBuilder>(
                  getInput(),
                  getParentForChildren(),
                  isClean());
          input_ = null;
        }
        return inputBuilder_;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:codex.agent.v1.RunTaskRequest)
    }

    // @@protoc_insertion_point(class_scope:codex.agent.v1.RunTaskRequest)
    private static final codex.agent.v1.Agent.RunTaskRequest DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new codex.agent.v1.Agent.RunTaskRequest();
    }

    public static codex.agent.v1.Agent.RunTaskRequest getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<RunTaskRequest>
        PARSER = new com.google.protobuf.AbstractParser<RunTaskRequest>() {
      @java.lang.Override
      public RunTaskRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        Builder builder = newBuilder();
        try {
          builder.mergeFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(builder.buildPartial());
        } catch (com.google.protobuf.UninitializedMessageException e) {
          throw e.asInvalidProtocolBufferException().setUnfinishedMessage(builder.buildPartial());
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(e)
              .setUnfinishedMessage(builder.buildPartial());
        }
        return builder.buildPartial();
      }
    };

    public static com.google.protobuf.Parser<RunTaskRequest> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<RunTaskRequest> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public codex.agent.v1.Agent.RunTaskRequest getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface UserInputOrBuilder extends
      // @@protoc_insertion_point(interface_extends:codex.agent.v1.UserInput)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>string text = 1;</code>
     * @return Whether the text field is set.
     */
    boolean hasText();
    /**
     * <code>string text = 1;</code>
     * @return The text.
     */
    java.lang.String getText();
    /**
     * <code>string text = 1;</code>
     * @return The bytes for text.
     */
    com.google.protobuf.ByteString
        getTextBytes();

    codex.agent.v1.Agent.UserInput.ContentCase getContentCase();
  }
  /**
   * Protobuf type {@code codex.agent.v1.UserInput}
   */
  public static final class UserInput extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:codex.agent.v1.UserInput)
      UserInputOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use UserInput.newBuilder() to construct.
    private UserInput(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private UserInput() {
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new UserInput();
    }

    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_UserInput_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_UserInput_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              codex.agent.v1.Agent.UserInput.class, codex.agent.v1.Agent.UserInput.Builder.class);
    }

    private int contentCase_ = 0;
    @SuppressWarnings("serial")
    private java.lang.Object content_;
    public enum ContentCase
        implements com.google.protobuf.Internal.EnumLite,
            com.google.protobuf.AbstractMessage.InternalOneOfEnum {
      TEXT(1),
      CONTENT_NOT_SET(0);
      private final int value;
      private ContentCase(int value) {
        this.value = value;
      }
      /**
       * @param value The number of the enum to look for.
       * @return The enum associated with the given number.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static ContentCase valueOf(int value) {
        return forNumber(value);
      }

      public static ContentCase forNumber(int value) {
        switch (value) {
          case 1: return TEXT;
          case 0: return CONTENT_NOT_SET;
          default: return null;
        }
      }
      public int getNumber() {
        return this.value;
      }
    };

    public ContentCase
    getContentCase() {
      return ContentCase.forNumber(
          contentCase_);
    }

    public static final int TEXT_FIELD_NUMBER = 1;
    /**
     * <code>string text = 1;</code>
     * @return Whether the text field is set.
     */
    public boolean hasText() {
      return contentCase_ == 1;
    }
    /**
     * <code>string text = 1;</code>
     * @return The text.
     */
    public java.lang.String getText() {
      java.lang.Object ref = "";
      if (contentCase_ == 1) {
        ref = content_;
      }
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (contentCase_ == 1) {
          content_ = s;
        }
        return s;
      }
    }
    /**
     * <code>string text = 1;</code>
     * @return The bytes for text.
     */
    public com.google.protobuf.ByteString
        getTextBytes() {
      java.lang.Object ref = "";
      if (contentCase_ == 1) {
        ref = content_;
      }
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        if (contentCase_ == 1) {
          content_ = b;
        }
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (contentCase_ == 1) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, content_);
      }
      getUnknownFields().writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (contentCase_ == 1) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, content_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof codex.agent.v1.Agent.UserInput)) {
        return super.equals(obj);
      }
      codex.agent.v1.Agent.UserInput other = (codex.agent.v1.Agent.UserInput) obj;

      if (!getContentCase().equals(other.getContentCase())) return false;
      switch (contentCase_) {
        case 1:
          if (!getText()
              .equals(other.getText())) return false;
          break;
        case 0:
        default:
      }
      if (!getUnknownFields().equals(other.getUnknownFields())) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      switch (contentCase_) {
        case 1:
          hash = (37 * hash) + TEXT_FIELD_NUMBER;
          hash = (53 * hash) + getText().hashCode();
          break;
        case 0:
        default:
      }
      hash = (29 * hash) + getUnknownFields().hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static codex.agent.v1.Agent.UserInput parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public static codex.agent.v1.Agent.UserInput parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }

    public static codex.agent.v1.Agent.UserInput parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.UserInput parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(codex.agent.v1.Agent.UserInput prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code codex.agent.v1.UserInput}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:codex.agent.v1.UserInput)
        codex.agent.v1.Agent.UserInputOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_UserInput_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_UserInput_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                codex.agent.v1.Agent.UserInput.class, codex.agent.v1.Agent.UserInput.Builder.class);
      }

      // Construct using codex.agent.v1.Agent.UserInput.newBuilder()
      private Builder() {

      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);

      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        bitField0_ = 0;
        contentCase_ = 0;
        content_ = null;
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_UserInput_descriptor;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.UserInput getDefaultInstanceForType() {
        return codex.agent.v1.Agent.UserInput.getDefaultInstance();
      }

      @java.lang.Override
      public codex.agent.v1.Agent.UserInput build() {
        codex.agent.v1.Agent.UserInput result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.UserInput buildPartial() {
        codex.agent.v1.Agent.UserInput result = new codex.agent.v1.Agent.UserInput(this);
        if (bitField0_ != 0) { buildPartial0(result); }
        buildPartialOneofs(result);
        onBuilt();
        return result;
      }

      private void buildPartial0(codex.agent.v1.Agent.UserInput result) {
        int from_bitField0_ = bitField0_;
      }

      private void buildPartialOneofs(codex.agent.v1.Agent.UserInput result) {
        result.contentCase_ = contentCase_;
        result.content_ = this.content_;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof codex.agent.v1.Agent.UserInput) {
          return mergeFrom((codex.agent.v1.Agent.UserInput)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(codex.agent.v1.Agent.UserInput other) {
        if (other == codex.agent.v1.Agent.UserInput.getDefaultInstance()) return this;
        switch (other.getContentCase()) {
          case TEXT: {
            contentCase_ = 1;
            content_ = other.content_;
            onChanged();
            break;
          }
          case CONTENT_NOT_SET: {
            break;
          }
        }
        this.mergeUnknownFields(other.getUnknownFields());
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                java.lang.String s = input.readStringRequireUtf8();
                contentCase_ = 1;
                content_ = s;
                break;
              } // case 10
              default: {
                if (!super.parseUnknownField(input, extensionRegistry, tag)) {
                  done = true; // was an endgroup tag
                }
                break;
              } // default:
            } // switch (tag)
          } // while (!done)
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.unwrapIOException();
        } finally {
          onChanged();
        } // finally
        return this;
      }
      private int contentCase_ = 0;
      private java.lang.Object content_;
      public ContentCase
          getContentCase() {
        return ContentCase.forNumber(
            contentCase_);
      }

      public Builder clearContent() {
        contentCase_ = 0;
        content_ = null;
        onChanged();
        return this;
      }

      private int bitField0_;

      /**
       * <code>string text = 1;</code>
       * @return Whether the text field is set.
       */
      @java.lang.Override
      public boolean hasText() {
        return contentCase_ == 1;
      }
      /**
       * <code>string text = 1;</code>
       * @return The text.
       */
      @java.lang.Override
      public java.lang.String getText() {
        java.lang.Object ref = "";
        if (contentCase_ == 1) {
          ref = content_;
        }
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (contentCase_ == 1) {
            content_ = s;
          }
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string text = 1;</code>
       * @return The bytes for text.
       */
      @java.lang.Override
      public com.google.protobuf.ByteString
          getTextBytes() {
        java.lang.Object ref = "";
        if (contentCase_ == 1) {
          ref = content_;
        }
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          if (contentCase_ == 1) {
            content_ = b;
          }
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string text = 1;</code>
       * @param value The text to set.
       * @return This builder for chaining.
       */
      public Builder setText(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        contentCase_ = 1;
        content_ = value;
        onChanged();
        return this;
      }
      /**
       * <code>string text = 1;</code>
       * @return This builder for chaining.
       */
      public Builder clearText() {
        if (contentCase_ == 1) {
          contentCase_ = 0;
          content_ = null;
          onChanged();
        }
        return this;
      }
      /**
       * <code>string text = 1;</code>
       * @param value The bytes for text to set.
       * @return This builder for chaining.
       */
      public Builder setTextBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        contentCase_ = 1;
        content_ = value;
        onChanged();
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:codex.agent.v1.UserInput)
    }

    // @@protoc_insertion_point(class_scope:codex.agent.v1.UserInput)
    private static final codex.agent.v1.Agent.UserInput DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new codex.agent.v1.Agent.UserInput();
    }

    public static codex.agent.v1.Agent.UserInput getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<UserInput>
        PARSER = new com.google.protobuf.AbstractParser<UserInput>() {
      @java.lang.Override
      public UserInput parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        Builder builder = newBuilder();
        try {
          builder.mergeFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(builder.buildPartial());
        } catch (com.google.protobuf.UninitializedMessageException e) {
          throw e.asInvalidProtocolBufferException().setUnfinishedMessage(builder.buildPartial());
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(e)
              .setUnfinishedMessage(builder.buildPartial());
        }
        return builder.buildPartial();
      }
    };

    public static com.google.protobuf.Parser<UserInput> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<UserInput> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public codex.agent.v1.Agent.UserInput getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface RunTaskResponseOrBuilder extends
      // @@protoc_insertion_point(interface_extends:codex.agent.v1.RunTaskResponse)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
     * @return The enum numeric value on the wire for status.
     */
    int getStatusValue();
    /**
     * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
     * @return The status.
     */
    codex.agent.v1.Agent.RunTaskResponse.Status getStatus();

    /**
     * <code>repeated string new_items_json = 2;</code>
     * @return A list containing the newItemsJson.
     */
    java.util.List<java.lang.String>
        getNewItemsJsonList();
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @return The count of newItemsJson.
     */
    int getNewItemsJsonCount();
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @param index The index of the element to return.
     * @return The newItemsJson at the given index.
     */
    java.lang.String getNewItemsJson(int index);
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @param index The index of the value to return.
     * @return The bytes of the newItemsJson at the given index.
     */
    com.google.protobuf.ByteString
        getNewItemsJsonBytes(int index);

    /**
     * <code>string final_response = 3;</code>
     * @return The finalResponse.
     */
    java.lang.String getFinalResponse();
    /**
     * <code>string final_response = 3;</code>
     * @return The bytes for finalResponse.
     */
    com.google.protobuf.ByteString
        getFinalResponseBytes();

    /**
     * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
     * @return Whether the usage field is set.
     */
    boolean hasUsage();
    /**
     * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
     * @return The usage.
     */
    codex.agent.v1.Agent.TokenUsage getUsage();
    /**
     * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
     */
    codex.agent.v1.Agent.TokenUsageOrBuilder getUsageOrBuilder();

    /**
     * <code>string error_message = 5;</code>
     * @return The errorMessage.
     */
    java.lang.String getErrorMessage();
    /**
     * <code>string error_message = 5;</code>
     * @return The bytes for errorMessage.
     */
    com.google.protobuf.ByteString
        getErrorMessageBytes();

    /**
     * <code>string text_delta = 6;</code>
     * @return The textDelta.
     */
    java.lang.String getTextDelta();
    /**
     * <code>string text_delta = 6;</code>
     * @return The bytes for textDelta.
     */
    com.google.protobuf.ByteString
        getTextDeltaBytes();
  }
  /**
   * Protobuf type {@code codex.agent.v1.RunTaskResponse}
   */
  public static final class RunTaskResponse extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:codex.agent.v1.RunTaskResponse)
      RunTaskResponseOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use RunTaskResponse.newBuilder() to construct.
    private RunTaskResponse(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private RunTaskResponse() {
      status_ = 0;
      newItemsJson_ =
          com.google.protobuf.LazyStringArrayList.emptyList();
      finalResponse_ = "";
      errorMessage_ = "";
      textDelta_ = "";
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new RunTaskResponse();
    }

    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskResponse_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskResponse_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              codex.agent.v1.Agent.RunTaskResponse.class, codex.agent.v1.Agent.RunTaskResponse.Builder.class);
    }

    /**
     * Protobuf enum {@code codex.agent.v1.RunTaskResponse.Status}
     */
    public enum Status
        implements com.google.protobuf.ProtocolMessageEnum {
      /**
       * <code>STATUS_UNSPECIFIED = 0;</code>
       */
      STATUS_UNSPECIFIED(0),
      /**
       * <code>FINISHED = 1;</code>
       */
      FINISHED(1),
      /**
       * <code>NEED_USER_INPUT = 2;</code>
       */
      NEED_USER_INPUT(2),
      /**
       * <code>MAX_TURNS_REACHED = 3;</code>
       */
      MAX_TURNS_REACHED(3),
      /**
       * <code>ERROR = 4;</code>
       */
      ERROR(4),
      /**
       * <code>PROCESSING = 5;</code>
       */
      PROCESSING(5),
      UNRECOGNIZED(-1),
      ;

      /**
       * <code>STATUS_UNSPECIFIED = 0;</code>
       */
      public static final int STATUS_UNSPECIFIED_VALUE = 0;
      /**
       * <code>FINISHED = 1;</code>
       */
      public static final int FINISHED_VALUE = 1;
      /**
       * <code>NEED_USER_INPUT = 2;</code>
       */
      public static final int NEED_USER_INPUT_VALUE = 2;
      /**
       * <code>MAX_TURNS_REACHED = 3;</code>
       */
      public static final int MAX_TURNS_REACHED_VALUE = 3;
      /**
       * <code>ERROR = 4;</code>
       */
      public static final int ERROR_VALUE = 4;
      /**
       * <code>PROCESSING = 5;</code>
       */
      public static final int PROCESSING_VALUE = 5;


      public final int getNumber() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalArgumentException(
              "Can't get the number of an unknown enum value.");
        }
        return value;
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static Status valueOf(int value) {
        return forNumber(value);
      }

      /**
       * @param value The numeric wire value of the corresponding enum entry.
       * @return The enum associated with the given numeric wire value.
       */
      public static Status forNumber(int value) {
        switch (value) {
          case 0: return STATUS_UNSPECIFIED;
          case 1: return FINISHED;
          case 2: return NEED_USER_INPUT;
          case 3: return MAX_TURNS_REACHED;
          case 4: return ERROR;
          case 5: return PROCESSING;
          default: return null;
        }
      }

      public static com.google.protobuf.Internal.EnumLiteMap<Status>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static final com.google.protobuf.Internal.EnumLiteMap<
          Status> internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<Status>() {
              public Status findValueByNumber(int number) {
                return Status.forNumber(number);
              }
            };

      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        if (this == UNRECOGNIZED) {
          throw new java.lang.IllegalStateException(
              "Can't get the descriptor of an unrecognized enum value.");
        }
        return getDescriptor().getValues().get(ordinal());
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return codex.agent.v1.Agent.RunTaskResponse.getDescriptor().getEnumTypes().get(0);
      }

      private static final Status[] VALUES = values();

      public static Status valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        if (desc.getIndex() == -1) {
          return UNRECOGNIZED;
        }
        return VALUES[desc.getIndex()];
      }

      private final int value;

      private Status(int value) {
        this.value = value;
      }

      // @@protoc_insertion_point(enum_scope:codex.agent.v1.RunTaskResponse.Status)
    }

    private int bitField0_;
    public static final int STATUS_FIELD_NUMBER = 1;
    private int status_ = 0;
    /**
     * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
     * @return The enum numeric value on the wire for status.
     */
    @java.lang.Override public int getStatusValue() {
      return status_;
    }
    /**
     * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
     * @return The status.
     */
    @java.lang.Override public codex.agent.v1.Agent.RunTaskResponse.Status getStatus() {
      codex.agent.v1.Agent.RunTaskResponse.Status result = codex.agent.v1.Agent.RunTaskResponse.Status.forNumber(status_);
      return result == null ? codex.agent.v1.Agent.RunTaskResponse.Status.UNRECOGNIZED : result;
    }

    public static final int NEW_ITEMS_JSON_FIELD_NUMBER = 2;
    @SuppressWarnings("serial")
    private com.google.protobuf.LazyStringArrayList newItemsJson_ =
        com.google.protobuf.LazyStringArrayList.emptyList();
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @return A list containing the newItemsJson.
     */
    public com.google.protobuf.ProtocolStringList
        getNewItemsJsonList() {
      return newItemsJson_;
    }
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @return The count of newItemsJson.
     */
    public int getNewItemsJsonCount() {
      return newItemsJson_.size();
    }
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @param index The index of the element to return.
     * @return The newItemsJson at the given index.
     */
    public java.lang.String getNewItemsJson(int index) {
      return newItemsJson_.get(index);
    }
    /**
     * <code>repeated string new_items_json = 2;</code>
     * @param index The index of the value to return.
     * @return The bytes of the newItemsJson at the given index.
     */
    public com.google.protobuf.ByteString
        getNewItemsJsonBytes(int index) {
      return newItemsJson_.getByteString(index);
    }

    public static final int FINAL_RESPONSE_FIELD_NUMBER = 3;
    @SuppressWarnings("serial")
    private volatile java.lang.Object finalResponse_ = "";
    /**
     * <code>string final_response = 3;</code>
     * @return The finalResponse.
     */
    @java.lang.Override
    public java.lang.String getFinalResponse() {
      java.lang.Object ref = finalResponse_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        finalResponse_ = s;
        return s;
      }
    }
    /**
     * <code>string final_response = 3;</code>
     * @return The bytes for finalResponse.
     */
    @java.lang.Override
    public com.google.protobuf.ByteString
        getFinalResponseBytes() {
      java.lang.Object ref = finalResponse_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        finalResponse_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int USAGE_FIELD_NUMBER = 4;
    private codex.agent.v1.Agent.TokenUsage usage_;
    /**
     * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
     * @return Whether the usage field is set.
     */
    @java.lang.Override
    public boolean hasUsage() {
      return ((bitField0_ & 0x00000001) != 0);
    }
    /**
     * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
     * @return The usage.
     */
    @java.lang.Override
    public codex.agent.v1.Agent.TokenUsage getUsage() {
      return usage_ == null ? codex.agent.v1.Agent.TokenUsage.getDefaultInstance() : usage_;
    }
    /**
     * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
     */
    @java.lang.Override
    public codex.agent.v1.Agent.TokenUsageOrBuilder getUsageOrBuilder() {
      return usage_ == null ? codex.agent.v1.Agent.TokenUsage.getDefaultInstance() : usage_;
    }

    public static final int ERROR_MESSAGE_FIELD_NUMBER = 5;
    @SuppressWarnings("serial")
    private volatile java.lang.Object errorMessage_ = "";
    /**
     * <code>string error_message = 5;</code>
     * @return The errorMessage.
     */
    @java.lang.Override
    public java.lang.String getErrorMessage() {
      java.lang.Object ref = errorMessage_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        errorMessage_ = s;
        return s;
      }
    }
    /**
     * <code>string error_message = 5;</code>
     * @return The bytes for errorMessage.
     */
    @java.lang.Override
    public com.google.protobuf.ByteString
        getErrorMessageBytes() {
      java.lang.Object ref = errorMessage_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        errorMessage_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int TEXT_DELTA_FIELD_NUMBER = 6;
    @SuppressWarnings("serial")
    private volatile java.lang.Object textDelta_ = "";
    /**
     * <code>string text_delta = 6;</code>
     * @return The textDelta.
     */
    @java.lang.Override
    public java.lang.String getTextDelta() {
      java.lang.Object ref = textDelta_;
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        textDelta_ = s;
        return s;
      }
    }
    /**
     * <code>string text_delta = 6;</code>
     * @return The bytes for textDelta.
     */
    @java.lang.Override
    public com.google.protobuf.ByteString
        getTextDeltaBytes() {
      java.lang.Object ref = textDelta_;
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        textDelta_ = b;
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (status_ != codex.agent.v1.Agent.RunTaskResponse.Status.STATUS_UNSPECIFIED.getNumber()) {
        output.writeEnum(1, status_);
      }
      for (int i = 0; i < newItemsJson_.size(); i++) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 2, newItemsJson_.getRaw(i));
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(finalResponse_)) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 3, finalResponse_);
      }
      if (((bitField0_ & 0x00000001) != 0)) {
        output.writeMessage(4, getUsage());
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(errorMessage_)) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 5, errorMessage_);
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(textDelta_)) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 6, textDelta_);
      }
      getUnknownFields().writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (status_ != codex.agent.v1.Agent.RunTaskResponse.Status.STATUS_UNSPECIFIED.getNumber()) {
        size += com.google.protobuf.CodedOutputStream
          .computeEnumSize(1, status_);
      }
      {
        int dataSize = 0;
        for (int i = 0; i < newItemsJson_.size(); i++) {
          dataSize += computeStringSizeNoTag(newItemsJson_.getRaw(i));
        }
        size += dataSize;
        size += 1 * getNewItemsJsonList().size();
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(finalResponse_)) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(3, finalResponse_);
      }
      if (((bitField0_ & 0x00000001) != 0)) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(4, getUsage());
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(errorMessage_)) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(5, errorMessage_);
      }
      if (!com.google.protobuf.GeneratedMessageV3.isStringEmpty(textDelta_)) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(6, textDelta_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof codex.agent.v1.Agent.RunTaskResponse)) {
        return super.equals(obj);
      }
      codex.agent.v1.Agent.RunTaskResponse other = (codex.agent.v1.Agent.RunTaskResponse) obj;

      if (status_ != other.status_) return false;
      if (!getNewItemsJsonList()
          .equals(other.getNewItemsJsonList())) return false;
      if (!getFinalResponse()
          .equals(other.getFinalResponse())) return false;
      if (hasUsage() != other.hasUsage()) return false;
      if (hasUsage()) {
        if (!getUsage()
            .equals(other.getUsage())) return false;
      }
      if (!getErrorMessage()
          .equals(other.getErrorMessage())) return false;
      if (!getTextDelta()
          .equals(other.getTextDelta())) return false;
      if (!getUnknownFields().equals(other.getUnknownFields())) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + STATUS_FIELD_NUMBER;
      hash = (53 * hash) + status_;
      if (getNewItemsJsonCount() > 0) {
        hash = (37 * hash) + NEW_ITEMS_JSON_FIELD_NUMBER;
        hash = (53 * hash) + getNewItemsJsonList().hashCode();
      }
      hash = (37 * hash) + FINAL_RESPONSE_FIELD_NUMBER;
      hash = (53 * hash) + getFinalResponse().hashCode();
      if (hasUsage()) {
        hash = (37 * hash) + USAGE_FIELD_NUMBER;
        hash = (53 * hash) + getUsage().hashCode();
      }
      hash = (37 * hash) + ERROR_MESSAGE_FIELD_NUMBER;
      hash = (53 * hash) + getErrorMessage().hashCode();
      hash = (37 * hash) + TEXT_DELTA_FIELD_NUMBER;
      hash = (53 * hash) + getTextDelta().hashCode();
      hash = (29 * hash) + getUnknownFields().hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public static codex.agent.v1.Agent.RunTaskResponse parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }

    public static codex.agent.v1.Agent.RunTaskResponse parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.RunTaskResponse parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(codex.agent.v1.Agent.RunTaskResponse prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code codex.agent.v1.RunTaskResponse}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:codex.agent.v1.RunTaskResponse)
        codex.agent.v1.Agent.RunTaskResponseOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskResponse_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                codex.agent.v1.Agent.RunTaskResponse.class, codex.agent.v1.Agent.RunTaskResponse.Builder.class);
      }

      // Construct using codex.agent.v1.Agent.RunTaskResponse.newBuilder()
      private Builder() {
        maybeForceBuilderInitialization();
      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);
        maybeForceBuilderInitialization();
      }
      private void maybeForceBuilderInitialization() {
        if (com.google.protobuf.GeneratedMessageV3
                .alwaysUseFieldBuilders) {
          getUsageFieldBuilder();
        }
      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        bitField0_ = 0;
        status_ = 0;
        newItemsJson_ =
            com.google.protobuf.LazyStringArrayList.emptyList();
        finalResponse_ = "";
        usage_ = null;
        if (usageBuilder_ != null) {
          usageBuilder_.dispose();
          usageBuilder_ = null;
        }
        errorMessage_ = "";
        textDelta_ = "";
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_RunTaskResponse_descriptor;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskResponse getDefaultInstanceForType() {
        return codex.agent.v1.Agent.RunTaskResponse.getDefaultInstance();
      }

      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskResponse build() {
        codex.agent.v1.Agent.RunTaskResponse result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskResponse buildPartial() {
        codex.agent.v1.Agent.RunTaskResponse result = new codex.agent.v1.Agent.RunTaskResponse(this);
        if (bitField0_ != 0) { buildPartial0(result); }
        onBuilt();
        return result;
      }

      private void buildPartial0(codex.agent.v1.Agent.RunTaskResponse result) {
        int from_bitField0_ = bitField0_;
        if (((from_bitField0_ & 0x00000001) != 0)) {
          result.status_ = status_;
        }
        if (((from_bitField0_ & 0x00000002) != 0)) {
          newItemsJson_.makeImmutable();
          result.newItemsJson_ = newItemsJson_;
        }
        if (((from_bitField0_ & 0x00000004) != 0)) {
          result.finalResponse_ = finalResponse_;
        }
        int to_bitField0_ = 0;
        if (((from_bitField0_ & 0x00000008) != 0)) {
          result.usage_ = usageBuilder_ == null
              ? usage_
              : usageBuilder_.build();
          to_bitField0_ |= 0x00000001;
        }
        if (((from_bitField0_ & 0x00000010) != 0)) {
          result.errorMessage_ = errorMessage_;
        }
        if (((from_bitField0_ & 0x00000020) != 0)) {
          result.textDelta_ = textDelta_;
        }
        result.bitField0_ |= to_bitField0_;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof codex.agent.v1.Agent.RunTaskResponse) {
          return mergeFrom((codex.agent.v1.Agent.RunTaskResponse)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(codex.agent.v1.Agent.RunTaskResponse other) {
        if (other == codex.agent.v1.Agent.RunTaskResponse.getDefaultInstance()) return this;
        if (other.status_ != 0) {
          setStatusValue(other.getStatusValue());
        }
        if (!other.newItemsJson_.isEmpty()) {
          if (newItemsJson_.isEmpty()) {
            newItemsJson_ = other.newItemsJson_;
            bitField0_ |= 0x00000002;
          } else {
            ensureNewItemsJsonIsMutable();
            newItemsJson_.addAll(other.newItemsJson_);
          }
          onChanged();
        }
        if (!other.getFinalResponse().isEmpty()) {
          finalResponse_ = other.finalResponse_;
          bitField0_ |= 0x00000004;
          onChanged();
        }
        if (other.hasUsage()) {
          mergeUsage(other.getUsage());
        }
        if (!other.getErrorMessage().isEmpty()) {
          errorMessage_ = other.errorMessage_;
          bitField0_ |= 0x00000010;
          onChanged();
        }
        if (!other.getTextDelta().isEmpty()) {
          textDelta_ = other.textDelta_;
          bitField0_ |= 0x00000020;
          onChanged();
        }
        this.mergeUnknownFields(other.getUnknownFields());
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                status_ = input.readEnum();
                bitField0_ |= 0x00000001;
                break;
              } // case 8
              case 18: {
                java.lang.String s = input.readStringRequireUtf8();
                ensureNewItemsJsonIsMutable();
                newItemsJson_.add(s);
                break;
              } // case 18
              case 26: {
                finalResponse_ = input.readStringRequireUtf8();
                bitField0_ |= 0x00000004;
                break;
              } // case 26
              case 34: {
                input.readMessage(
                    getUsageFieldBuilder().getBuilder(),
                    extensionRegistry);
                bitField0_ |= 0x00000008;
                break;
              } // case 34
              case 42: {
                errorMessage_ = input.readStringRequireUtf8();
                bitField0_ |= 0x00000010;
                break;
              } // case 42
              case 50: {
                textDelta_ = input.readStringRequireUtf8();
                bitField0_ |= 0x00000020;
                break;
              } // case 50
              default: {
                if (!super.parseUnknownField(input, extensionRegistry, tag)) {
                  done = true; // was an endgroup tag
                }
                break;
              } // default:
            } // switch (tag)
          } // while (!done)
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.unwrapIOException();
        } finally {
          onChanged();
        } // finally
        return this;
      }
      private int bitField0_;

      private int status_ = 0;
      /**
       * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
       * @return The enum numeric value on the wire for status.
       */
      @java.lang.Override public int getStatusValue() {
        return status_;
      }
      /**
       * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
       * @param value The enum numeric value on the wire for status to set.
       * @return This builder for chaining.
       */
      public Builder setStatusValue(int value) {
        status_ = value;
        bitField0_ |= 0x00000001;
        onChanged();
        return this;
      }
      /**
       * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
       * @return The status.
       */
      @java.lang.Override
      public codex.agent.v1.Agent.RunTaskResponse.Status getStatus() {
        codex.agent.v1.Agent.RunTaskResponse.Status result = codex.agent.v1.Agent.RunTaskResponse.Status.forNumber(status_);
        return result == null ? codex.agent.v1.Agent.RunTaskResponse.Status.UNRECOGNIZED : result;
      }
      /**
       * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
       * @param value The status to set.
       * @return This builder for chaining.
       */
      public Builder setStatus(codex.agent.v1.Agent.RunTaskResponse.Status value) {
        if (value == null) {
          throw new NullPointerException();
        }
        bitField0_ |= 0x00000001;
        status_ = value.getNumber();
        onChanged();
        return this;
      }
      /**
       * <code>.codex.agent.v1.RunTaskResponse.Status status = 1;</code>
       * @return This builder for chaining.
       */
      public Builder clearStatus() {
        bitField0_ = (bitField0_ & ~0x00000001);
        status_ = 0;
        onChanged();
        return this;
      }

      private com.google.protobuf.LazyStringArrayList newItemsJson_ =
          com.google.protobuf.LazyStringArrayList.emptyList();
      private void ensureNewItemsJsonIsMutable() {
        if (!newItemsJson_.isModifiable()) {
          newItemsJson_ = new com.google.protobuf.LazyStringArrayList(newItemsJson_);
        }
        bitField0_ |= 0x00000002;
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @return A list containing the newItemsJson.
       */
      public com.google.protobuf.ProtocolStringList
          getNewItemsJsonList() {
        newItemsJson_.makeImmutable();
        return newItemsJson_;
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @return The count of newItemsJson.
       */
      public int getNewItemsJsonCount() {
        return newItemsJson_.size();
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @param index The index of the element to return.
       * @return The newItemsJson at the given index.
       */
      public java.lang.String getNewItemsJson(int index) {
        return newItemsJson_.get(index);
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @param index The index of the value to return.
       * @return The bytes of the newItemsJson at the given index.
       */
      public com.google.protobuf.ByteString
          getNewItemsJsonBytes(int index) {
        return newItemsJson_.getByteString(index);
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @param index The index to set the value at.
       * @param value The newItemsJson to set.
       * @return This builder for chaining.
       */
      public Builder setNewItemsJson(
          int index, java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        ensureNewItemsJsonIsMutable();
        newItemsJson_.set(index, value);
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @param value The newItemsJson to add.
       * @return This builder for chaining.
       */
      public Builder addNewItemsJson(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        ensureNewItemsJsonIsMutable();
        newItemsJson_.add(value);
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @param values The newItemsJson to add.
       * @return This builder for chaining.
       */
      public Builder addAllNewItemsJson(
          java.lang.Iterable<java.lang.String> values) {
        ensureNewItemsJsonIsMutable();
        com.google.protobuf.AbstractMessageLite.Builder.addAll(
            values, newItemsJson_);
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @return This builder for chaining.
       */
      public Builder clearNewItemsJson() {
        newItemsJson_ =
          com.google.protobuf.LazyStringArrayList.emptyList();
        bitField0_ = (bitField0_ & ~0x00000002);;
        onChanged();
        return this;
      }
      /**
       * <code>repeated string new_items_json = 2;</code>
       * @param value The bytes of the newItemsJson to add.
       * @return This builder for chaining.
       */
      public Builder addNewItemsJsonBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        ensureNewItemsJsonIsMutable();
        newItemsJson_.add(value);
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }

      private java.lang.Object finalResponse_ = "";
      /**
       * <code>string final_response = 3;</code>
       * @return The finalResponse.
       */
      public java.lang.String getFinalResponse() {
        java.lang.Object ref = finalResponse_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          finalResponse_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string final_response = 3;</code>
       * @return The bytes for finalResponse.
       */
      public com.google.protobuf.ByteString
          getFinalResponseBytes() {
        java.lang.Object ref = finalResponse_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          finalResponse_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string final_response = 3;</code>
       * @param value The finalResponse to set.
       * @return This builder for chaining.
       */
      public Builder setFinalResponse(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        finalResponse_ = value;
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }
      /**
       * <code>string final_response = 3;</code>
       * @return This builder for chaining.
       */
      public Builder clearFinalResponse() {
        finalResponse_ = getDefaultInstance().getFinalResponse();
        bitField0_ = (bitField0_ & ~0x00000004);
        onChanged();
        return this;
      }
      /**
       * <code>string final_response = 3;</code>
       * @param value The bytes for finalResponse to set.
       * @return This builder for chaining.
       */
      public Builder setFinalResponseBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        finalResponse_ = value;
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }

      private codex.agent.v1.Agent.TokenUsage usage_;
      private com.google.protobuf.SingleFieldBuilderV3<
          codex.agent.v1.Agent.TokenUsage, codex.agent.v1.Agent.TokenUsage.Builder, codex.agent.v1.Agent.TokenUsageOrBuilder> usageBuilder_;
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       * @return Whether the usage field is set.
       */
      public boolean hasUsage() {
        return ((bitField0_ & 0x00000008) != 0);
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       * @return The usage.
       */
      public codex.agent.v1.Agent.TokenUsage getUsage() {
        if (usageBuilder_ == null) {
          return usage_ == null ? codex.agent.v1.Agent.TokenUsage.getDefaultInstance() : usage_;
        } else {
          return usageBuilder_.getMessage();
        }
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      public Builder setUsage(codex.agent.v1.Agent.TokenUsage value) {
        if (usageBuilder_ == null) {
          if (value == null) {
            throw new NullPointerException();
          }
          usage_ = value;
        } else {
          usageBuilder_.setMessage(value);
        }
        bitField0_ |= 0x00000008;
        onChanged();
        return this;
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      public Builder setUsage(
          codex.agent.v1.Agent.TokenUsage.Builder builderForValue) {
        if (usageBuilder_ == null) {
          usage_ = builderForValue.build();
        } else {
          usageBuilder_.setMessage(builderForValue.build());
        }
        bitField0_ |= 0x00000008;
        onChanged();
        return this;
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      public Builder mergeUsage(codex.agent.v1.Agent.TokenUsage value) {
        if (usageBuilder_ == null) {
          if (((bitField0_ & 0x00000008) != 0) &&
            usage_ != null &&
            usage_ != codex.agent.v1.Agent.TokenUsage.getDefaultInstance()) {
            getUsageBuilder().mergeFrom(value);
          } else {
            usage_ = value;
          }
        } else {
          usageBuilder_.mergeFrom(value);
        }
        if (usage_ != null) {
          bitField0_ |= 0x00000008;
          onChanged();
        }
        return this;
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      public Builder clearUsage() {
        bitField0_ = (bitField0_ & ~0x00000008);
        usage_ = null;
        if (usageBuilder_ != null) {
          usageBuilder_.dispose();
          usageBuilder_ = null;
        }
        onChanged();
        return this;
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      public codex.agent.v1.Agent.TokenUsage.Builder getUsageBuilder() {
        bitField0_ |= 0x00000008;
        onChanged();
        return getUsageFieldBuilder().getBuilder();
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      public codex.agent.v1.Agent.TokenUsageOrBuilder getUsageOrBuilder() {
        if (usageBuilder_ != null) {
          return usageBuilder_.getMessageOrBuilder();
        } else {
          return usage_ == null ?
              codex.agent.v1.Agent.TokenUsage.getDefaultInstance() : usage_;
        }
      }
      /**
       * <code>.codex.agent.v1.TokenUsage usage = 4;</code>
       */
      private com.google.protobuf.SingleFieldBuilderV3<
          codex.agent.v1.Agent.TokenUsage, codex.agent.v1.Agent.TokenUsage.Builder, codex.agent.v1.Agent.TokenUsageOrBuilder> 
          getUsageFieldBuilder() {
        if (usageBuilder_ == null) {
          usageBuilder_ = new com.google.protobuf.SingleFieldBuilderV3<
              codex.agent.v1.Agent.TokenUsage, codex.agent.v1.Agent.TokenUsage.Builder, codex.agent.v1.Agent.TokenUsageOrBuilder>(
                  getUsage(),
                  getParentForChildren(),
                  isClean());
          usage_ = null;
        }
        return usageBuilder_;
      }

      private java.lang.Object errorMessage_ = "";
      /**
       * <code>string error_message = 5;</code>
       * @return The errorMessage.
       */
      public java.lang.String getErrorMessage() {
        java.lang.Object ref = errorMessage_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          errorMessage_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string error_message = 5;</code>
       * @return The bytes for errorMessage.
       */
      public com.google.protobuf.ByteString
          getErrorMessageBytes() {
        java.lang.Object ref = errorMessage_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          errorMessage_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string error_message = 5;</code>
       * @param value The errorMessage to set.
       * @return This builder for chaining.
       */
      public Builder setErrorMessage(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        errorMessage_ = value;
        bitField0_ |= 0x00000010;
        onChanged();
        return this;
      }
      /**
       * <code>string error_message = 5;</code>
       * @return This builder for chaining.
       */
      public Builder clearErrorMessage() {
        errorMessage_ = getDefaultInstance().getErrorMessage();
        bitField0_ = (bitField0_ & ~0x00000010);
        onChanged();
        return this;
      }
      /**
       * <code>string error_message = 5;</code>
       * @param value The bytes for errorMessage to set.
       * @return This builder for chaining.
       */
      public Builder setErrorMessageBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        errorMessage_ = value;
        bitField0_ |= 0x00000010;
        onChanged();
        return this;
      }

      private java.lang.Object textDelta_ = "";
      /**
       * <code>string text_delta = 6;</code>
       * @return The textDelta.
       */
      public java.lang.String getTextDelta() {
        java.lang.Object ref = textDelta_;
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          textDelta_ = s;
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <code>string text_delta = 6;</code>
       * @return The bytes for textDelta.
       */
      public com.google.protobuf.ByteString
          getTextDeltaBytes() {
        java.lang.Object ref = textDelta_;
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          textDelta_ = b;
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <code>string text_delta = 6;</code>
       * @param value The textDelta to set.
       * @return This builder for chaining.
       */
      public Builder setTextDelta(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        textDelta_ = value;
        bitField0_ |= 0x00000020;
        onChanged();
        return this;
      }
      /**
       * <code>string text_delta = 6;</code>
       * @return This builder for chaining.
       */
      public Builder clearTextDelta() {
        textDelta_ = getDefaultInstance().getTextDelta();
        bitField0_ = (bitField0_ & ~0x00000020);
        onChanged();
        return this;
      }
      /**
       * <code>string text_delta = 6;</code>
       * @param value The bytes for textDelta to set.
       * @return This builder for chaining.
       */
      public Builder setTextDeltaBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        textDelta_ = value;
        bitField0_ |= 0x00000020;
        onChanged();
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:codex.agent.v1.RunTaskResponse)
    }

    // @@protoc_insertion_point(class_scope:codex.agent.v1.RunTaskResponse)
    private static final codex.agent.v1.Agent.RunTaskResponse DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new codex.agent.v1.Agent.RunTaskResponse();
    }

    public static codex.agent.v1.Agent.RunTaskResponse getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<RunTaskResponse>
        PARSER = new com.google.protobuf.AbstractParser<RunTaskResponse>() {
      @java.lang.Override
      public RunTaskResponse parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        Builder builder = newBuilder();
        try {
          builder.mergeFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(builder.buildPartial());
        } catch (com.google.protobuf.UninitializedMessageException e) {
          throw e.asInvalidProtocolBufferException().setUnfinishedMessage(builder.buildPartial());
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(e)
              .setUnfinishedMessage(builder.buildPartial());
        }
        return builder.buildPartial();
      }
    };

    public static com.google.protobuf.Parser<RunTaskResponse> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<RunTaskResponse> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public codex.agent.v1.Agent.RunTaskResponse getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface TokenUsageOrBuilder extends
      // @@protoc_insertion_point(interface_extends:codex.agent.v1.TokenUsage)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <code>int64 prompt_tokens = 1;</code>
     * @return The promptTokens.
     */
    long getPromptTokens();

    /**
     * <code>int64 completion_tokens = 2;</code>
     * @return The completionTokens.
     */
    long getCompletionTokens();

    /**
     * <code>int64 total_tokens = 3;</code>
     * @return The totalTokens.
     */
    long getTotalTokens();
  }
  /**
   * Protobuf type {@code codex.agent.v1.TokenUsage}
   */
  public static final class TokenUsage extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:codex.agent.v1.TokenUsage)
      TokenUsageOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use TokenUsage.newBuilder() to construct.
    private TokenUsage(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private TokenUsage() {
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new TokenUsage();
    }

    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_TokenUsage_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_TokenUsage_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              codex.agent.v1.Agent.TokenUsage.class, codex.agent.v1.Agent.TokenUsage.Builder.class);
    }

    public static final int PROMPT_TOKENS_FIELD_NUMBER = 1;
    private long promptTokens_ = 0L;
    /**
     * <code>int64 prompt_tokens = 1;</code>
     * @return The promptTokens.
     */
    @java.lang.Override
    public long getPromptTokens() {
      return promptTokens_;
    }

    public static final int COMPLETION_TOKENS_FIELD_NUMBER = 2;
    private long completionTokens_ = 0L;
    /**
     * <code>int64 completion_tokens = 2;</code>
     * @return The completionTokens.
     */
    @java.lang.Override
    public long getCompletionTokens() {
      return completionTokens_;
    }

    public static final int TOTAL_TOKENS_FIELD_NUMBER = 3;
    private long totalTokens_ = 0L;
    /**
     * <code>int64 total_tokens = 3;</code>
     * @return The totalTokens.
     */
    @java.lang.Override
    public long getTotalTokens() {
      return totalTokens_;
    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (promptTokens_ != 0L) {
        output.writeInt64(1, promptTokens_);
      }
      if (completionTokens_ != 0L) {
        output.writeInt64(2, completionTokens_);
      }
      if (totalTokens_ != 0L) {
        output.writeInt64(3, totalTokens_);
      }
      getUnknownFields().writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (promptTokens_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(1, promptTokens_);
      }
      if (completionTokens_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(2, completionTokens_);
      }
      if (totalTokens_ != 0L) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(3, totalTokens_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof codex.agent.v1.Agent.TokenUsage)) {
        return super.equals(obj);
      }
      codex.agent.v1.Agent.TokenUsage other = (codex.agent.v1.Agent.TokenUsage) obj;

      if (getPromptTokens()
          != other.getPromptTokens()) return false;
      if (getCompletionTokens()
          != other.getCompletionTokens()) return false;
      if (getTotalTokens()
          != other.getTotalTokens()) return false;
      if (!getUnknownFields().equals(other.getUnknownFields())) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      hash = (37 * hash) + PROMPT_TOKENS_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getPromptTokens());
      hash = (37 * hash) + COMPLETION_TOKENS_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getCompletionTokens());
      hash = (37 * hash) + TOTAL_TOKENS_FIELD_NUMBER;
      hash = (53 * hash) + com.google.protobuf.Internal.hashLong(
          getTotalTokens());
      hash = (29 * hash) + getUnknownFields().hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public static codex.agent.v1.Agent.TokenUsage parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }

    public static codex.agent.v1.Agent.TokenUsage parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.TokenUsage parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(codex.agent.v1.Agent.TokenUsage prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code codex.agent.v1.TokenUsage}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:codex.agent.v1.TokenUsage)
        codex.agent.v1.Agent.TokenUsageOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_TokenUsage_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_TokenUsage_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                codex.agent.v1.Agent.TokenUsage.class, codex.agent.v1.Agent.TokenUsage.Builder.class);
      }

      // Construct using codex.agent.v1.Agent.TokenUsage.newBuilder()
      private Builder() {

      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);

      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        bitField0_ = 0;
        promptTokens_ = 0L;
        completionTokens_ = 0L;
        totalTokens_ = 0L;
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_TokenUsage_descriptor;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.TokenUsage getDefaultInstanceForType() {
        return codex.agent.v1.Agent.TokenUsage.getDefaultInstance();
      }

      @java.lang.Override
      public codex.agent.v1.Agent.TokenUsage build() {
        codex.agent.v1.Agent.TokenUsage result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.TokenUsage buildPartial() {
        codex.agent.v1.Agent.TokenUsage result = new codex.agent.v1.Agent.TokenUsage(this);
        if (bitField0_ != 0) { buildPartial0(result); }
        onBuilt();
        return result;
      }

      private void buildPartial0(codex.agent.v1.Agent.TokenUsage result) {
        int from_bitField0_ = bitField0_;
        if (((from_bitField0_ & 0x00000001) != 0)) {
          result.promptTokens_ = promptTokens_;
        }
        if (((from_bitField0_ & 0x00000002) != 0)) {
          result.completionTokens_ = completionTokens_;
        }
        if (((from_bitField0_ & 0x00000004) != 0)) {
          result.totalTokens_ = totalTokens_;
        }
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof codex.agent.v1.Agent.TokenUsage) {
          return mergeFrom((codex.agent.v1.Agent.TokenUsage)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(codex.agent.v1.Agent.TokenUsage other) {
        if (other == codex.agent.v1.Agent.TokenUsage.getDefaultInstance()) return this;
        if (other.getPromptTokens() != 0L) {
          setPromptTokens(other.getPromptTokens());
        }
        if (other.getCompletionTokens() != 0L) {
          setCompletionTokens(other.getCompletionTokens());
        }
        if (other.getTotalTokens() != 0L) {
          setTotalTokens(other.getTotalTokens());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 8: {
                promptTokens_ = input.readInt64();
                bitField0_ |= 0x00000001;
                break;
              } // case 8
              case 16: {
                completionTokens_ = input.readInt64();
                bitField0_ |= 0x00000002;
                break;
              } // case 16
              case 24: {
                totalTokens_ = input.readInt64();
                bitField0_ |= 0x00000004;
                break;
              } // case 24
              default: {
                if (!super.parseUnknownField(input, extensionRegistry, tag)) {
                  done = true; // was an endgroup tag
                }
                break;
              } // default:
            } // switch (tag)
          } // while (!done)
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.unwrapIOException();
        } finally {
          onChanged();
        } // finally
        return this;
      }
      private int bitField0_;

      private long promptTokens_ ;
      /**
       * <code>int64 prompt_tokens = 1;</code>
       * @return The promptTokens.
       */
      @java.lang.Override
      public long getPromptTokens() {
        return promptTokens_;
      }
      /**
       * <code>int64 prompt_tokens = 1;</code>
       * @param value The promptTokens to set.
       * @return This builder for chaining.
       */
      public Builder setPromptTokens(long value) {

        promptTokens_ = value;
        bitField0_ |= 0x00000001;
        onChanged();
        return this;
      }
      /**
       * <code>int64 prompt_tokens = 1;</code>
       * @return This builder for chaining.
       */
      public Builder clearPromptTokens() {
        bitField0_ = (bitField0_ & ~0x00000001);
        promptTokens_ = 0L;
        onChanged();
        return this;
      }

      private long completionTokens_ ;
      /**
       * <code>int64 completion_tokens = 2;</code>
       * @return The completionTokens.
       */
      @java.lang.Override
      public long getCompletionTokens() {
        return completionTokens_;
      }
      /**
       * <code>int64 completion_tokens = 2;</code>
       * @param value The completionTokens to set.
       * @return This builder for chaining.
       */
      public Builder setCompletionTokens(long value) {

        completionTokens_ = value;
        bitField0_ |= 0x00000002;
        onChanged();
        return this;
      }
      /**
       * <code>int64 completion_tokens = 2;</code>
       * @return This builder for chaining.
       */
      public Builder clearCompletionTokens() {
        bitField0_ = (bitField0_ & ~0x00000002);
        completionTokens_ = 0L;
        onChanged();
        return this;
      }

      private long totalTokens_ ;
      /**
       * <code>int64 total_tokens = 3;</code>
       * @return The totalTokens.
       */
      @java.lang.Override
      public long getTotalTokens() {
        return totalTokens_;
      }
      /**
       * <code>int64 total_tokens = 3;</code>
       * @param value The totalTokens to set.
       * @return This builder for chaining.
       */
      public Builder setTotalTokens(long value) {

        totalTokens_ = value;
        bitField0_ |= 0x00000004;
        onChanged();
        return this;
      }
      /**
       * <code>int64 total_tokens = 3;</code>
       * @return This builder for chaining.
       */
      public Builder clearTotalTokens() {
        bitField0_ = (bitField0_ & ~0x00000004);
        totalTokens_ = 0L;
        onChanged();
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:codex.agent.v1.TokenUsage)
    }

    // @@protoc_insertion_point(class_scope:codex.agent.v1.TokenUsage)
    private static final codex.agent.v1.Agent.TokenUsage DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new codex.agent.v1.Agent.TokenUsage();
    }

    public static codex.agent.v1.Agent.TokenUsage getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<TokenUsage>
        PARSER = new com.google.protobuf.AbstractParser<TokenUsage>() {
      @java.lang.Override
      public TokenUsage parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        Builder builder = newBuilder();
        try {
          builder.mergeFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(builder.buildPartial());
        } catch (com.google.protobuf.UninitializedMessageException e) {
          throw e.asInvalidProtocolBufferException().setUnfinishedMessage(builder.buildPartial());
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(e)
              .setUnfinishedMessage(builder.buildPartial());
        }
        return builder.buildPartial();
      }
    };

    public static com.google.protobuf.Parser<TokenUsage> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<TokenUsage> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public codex.agent.v1.Agent.TokenUsage getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface ChatRequestOrBuilder extends
      // @@protoc_insertion_point(interface_extends:codex.agent.v1.ChatRequest)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <pre>
     * 握手帧：客户端发送的第一条消息，包含配置
     * </pre>
     *
     * <code>string session_config_json = 1;</code>
     * @return Whether the sessionConfigJson field is set.
     */
    boolean hasSessionConfigJson();
    /**
     * <pre>
     * 握手帧：客户端发送的第一条消息，包含配置
     * </pre>
     *
     * <code>string session_config_json = 1;</code>
     * @return The sessionConfigJson.
     */
    java.lang.String getSessionConfigJson();
    /**
     * <pre>
     * 握手帧：客户端发送的第一条消息，包含配置
     * </pre>
     *
     * <code>string session_config_json = 1;</code>
     * @return The bytes for sessionConfigJson.
     */
    com.google.protobuf.ByteString
        getSessionConfigJsonBytes();

    /**
     * <pre>
     * 音频帧：持续推送的 PCM/Opus 数据
     * </pre>
     *
     * <code>bytes audio_chunk = 2;</code>
     * @return Whether the audioChunk field is set.
     */
    boolean hasAudioChunk();
    /**
     * <pre>
     * 音频帧：持续推送的 PCM/Opus 数据
     * </pre>
     *
     * <code>bytes audio_chunk = 2;</code>
     * @return The audioChunk.
     */
    com.google.protobuf.ByteString getAudioChunk();

    /**
     * <pre>
     * 文本帧：用户插话或纯文本交互
     * </pre>
     *
     * <code>string text_chunk = 3;</code>
     * @return Whether the textChunk field is set.
     */
    boolean hasTextChunk();
    /**
     * <pre>
     * 文本帧：用户插话或纯文本交互
     * </pre>
     *
     * <code>string text_chunk = 3;</code>
     * @return The textChunk.
     */
    java.lang.String getTextChunk();
    /**
     * <pre>
     * 文本帧：用户插话或纯文本交互
     * </pre>
     *
     * <code>string text_chunk = 3;</code>
     * @return The bytes for textChunk.
     */
    com.google.protobuf.ByteString
        getTextChunkBytes();

    codex.agent.v1.Agent.ChatRequest.PayloadCase getPayloadCase();
  }
  /**
   * Protobuf type {@code codex.agent.v1.ChatRequest}
   */
  public static final class ChatRequest extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:codex.agent.v1.ChatRequest)
      ChatRequestOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use ChatRequest.newBuilder() to construct.
    private ChatRequest(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private ChatRequest() {
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new ChatRequest();
    }

    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatRequest_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatRequest_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              codex.agent.v1.Agent.ChatRequest.class, codex.agent.v1.Agent.ChatRequest.Builder.class);
    }

    private int payloadCase_ = 0;
    @SuppressWarnings("serial")
    private java.lang.Object payload_;
    public enum PayloadCase
        implements com.google.protobuf.Internal.EnumLite,
            com.google.protobuf.AbstractMessage.InternalOneOfEnum {
      SESSION_CONFIG_JSON(1),
      AUDIO_CHUNK(2),
      TEXT_CHUNK(3),
      PAYLOAD_NOT_SET(0);
      private final int value;
      private PayloadCase(int value) {
        this.value = value;
      }
      /**
       * @param value The number of the enum to look for.
       * @return The enum associated with the given number.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static PayloadCase valueOf(int value) {
        return forNumber(value);
      }

      public static PayloadCase forNumber(int value) {
        switch (value) {
          case 1: return SESSION_CONFIG_JSON;
          case 2: return AUDIO_CHUNK;
          case 3: return TEXT_CHUNK;
          case 0: return PAYLOAD_NOT_SET;
          default: return null;
        }
      }
      public int getNumber() {
        return this.value;
      }
    };

    public PayloadCase
    getPayloadCase() {
      return PayloadCase.forNumber(
          payloadCase_);
    }

    public static final int SESSION_CONFIG_JSON_FIELD_NUMBER = 1;
    /**
     * <pre>
     * 握手帧：客户端发送的第一条消息，包含配置
     * </pre>
     *
     * <code>string session_config_json = 1;</code>
     * @return Whether the sessionConfigJson field is set.
     */
    public boolean hasSessionConfigJson() {
      return payloadCase_ == 1;
    }
    /**
     * <pre>
     * 握手帧：客户端发送的第一条消息，包含配置
     * </pre>
     *
     * <code>string session_config_json = 1;</code>
     * @return The sessionConfigJson.
     */
    public java.lang.String getSessionConfigJson() {
      java.lang.Object ref = "";
      if (payloadCase_ == 1) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (payloadCase_ == 1) {
          payload_ = s;
        }
        return s;
      }
    }
    /**
     * <pre>
     * 握手帧：客户端发送的第一条消息，包含配置
     * </pre>
     *
     * <code>string session_config_json = 1;</code>
     * @return The bytes for sessionConfigJson.
     */
    public com.google.protobuf.ByteString
        getSessionConfigJsonBytes() {
      java.lang.Object ref = "";
      if (payloadCase_ == 1) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        if (payloadCase_ == 1) {
          payload_ = b;
        }
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int AUDIO_CHUNK_FIELD_NUMBER = 2;
    /**
     * <pre>
     * 音频帧：持续推送的 PCM/Opus 数据
     * </pre>
     *
     * <code>bytes audio_chunk = 2;</code>
     * @return Whether the audioChunk field is set.
     */
    @java.lang.Override
    public boolean hasAudioChunk() {
      return payloadCase_ == 2;
    }
    /**
     * <pre>
     * 音频帧：持续推送的 PCM/Opus 数据
     * </pre>
     *
     * <code>bytes audio_chunk = 2;</code>
     * @return The audioChunk.
     */
    @java.lang.Override
    public com.google.protobuf.ByteString getAudioChunk() {
      if (payloadCase_ == 2) {
        return (com.google.protobuf.ByteString) payload_;
      }
      return com.google.protobuf.ByteString.EMPTY;
    }

    public static final int TEXT_CHUNK_FIELD_NUMBER = 3;
    /**
     * <pre>
     * 文本帧：用户插话或纯文本交互
     * </pre>
     *
     * <code>string text_chunk = 3;</code>
     * @return Whether the textChunk field is set.
     */
    public boolean hasTextChunk() {
      return payloadCase_ == 3;
    }
    /**
     * <pre>
     * 文本帧：用户插话或纯文本交互
     * </pre>
     *
     * <code>string text_chunk = 3;</code>
     * @return The textChunk.
     */
    public java.lang.String getTextChunk() {
      java.lang.Object ref = "";
      if (payloadCase_ == 3) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (payloadCase_ == 3) {
          payload_ = s;
        }
        return s;
      }
    }
    /**
     * <pre>
     * 文本帧：用户插话或纯文本交互
     * </pre>
     *
     * <code>string text_chunk = 3;</code>
     * @return The bytes for textChunk.
     */
    public com.google.protobuf.ByteString
        getTextChunkBytes() {
      java.lang.Object ref = "";
      if (payloadCase_ == 3) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        if (payloadCase_ == 3) {
          payload_ = b;
        }
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (payloadCase_ == 1) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, payload_);
      }
      if (payloadCase_ == 2) {
        output.writeBytes(
            2, (com.google.protobuf.ByteString) payload_);
      }
      if (payloadCase_ == 3) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 3, payload_);
      }
      getUnknownFields().writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (payloadCase_ == 1) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, payload_);
      }
      if (payloadCase_ == 2) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(
              2, (com.google.protobuf.ByteString) payload_);
      }
      if (payloadCase_ == 3) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(3, payload_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof codex.agent.v1.Agent.ChatRequest)) {
        return super.equals(obj);
      }
      codex.agent.v1.Agent.ChatRequest other = (codex.agent.v1.Agent.ChatRequest) obj;

      if (!getPayloadCase().equals(other.getPayloadCase())) return false;
      switch (payloadCase_) {
        case 1:
          if (!getSessionConfigJson()
              .equals(other.getSessionConfigJson())) return false;
          break;
        case 2:
          if (!getAudioChunk()
              .equals(other.getAudioChunk())) return false;
          break;
        case 3:
          if (!getTextChunk()
              .equals(other.getTextChunk())) return false;
          break;
        case 0:
        default:
      }
      if (!getUnknownFields().equals(other.getUnknownFields())) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      switch (payloadCase_) {
        case 1:
          hash = (37 * hash) + SESSION_CONFIG_JSON_FIELD_NUMBER;
          hash = (53 * hash) + getSessionConfigJson().hashCode();
          break;
        case 2:
          hash = (37 * hash) + AUDIO_CHUNK_FIELD_NUMBER;
          hash = (53 * hash) + getAudioChunk().hashCode();
          break;
        case 3:
          hash = (37 * hash) + TEXT_CHUNK_FIELD_NUMBER;
          hash = (53 * hash) + getTextChunk().hashCode();
          break;
        case 0:
        default:
      }
      hash = (29 * hash) + getUnknownFields().hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public static codex.agent.v1.Agent.ChatRequest parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }

    public static codex.agent.v1.Agent.ChatRequest parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.ChatRequest parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(codex.agent.v1.Agent.ChatRequest prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code codex.agent.v1.ChatRequest}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:codex.agent.v1.ChatRequest)
        codex.agent.v1.Agent.ChatRequestOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatRequest_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatRequest_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                codex.agent.v1.Agent.ChatRequest.class, codex.agent.v1.Agent.ChatRequest.Builder.class);
      }

      // Construct using codex.agent.v1.Agent.ChatRequest.newBuilder()
      private Builder() {

      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);

      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        bitField0_ = 0;
        payloadCase_ = 0;
        payload_ = null;
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatRequest_descriptor;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.ChatRequest getDefaultInstanceForType() {
        return codex.agent.v1.Agent.ChatRequest.getDefaultInstance();
      }

      @java.lang.Override
      public codex.agent.v1.Agent.ChatRequest build() {
        codex.agent.v1.Agent.ChatRequest result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.ChatRequest buildPartial() {
        codex.agent.v1.Agent.ChatRequest result = new codex.agent.v1.Agent.ChatRequest(this);
        if (bitField0_ != 0) { buildPartial0(result); }
        buildPartialOneofs(result);
        onBuilt();
        return result;
      }

      private void buildPartial0(codex.agent.v1.Agent.ChatRequest result) {
        int from_bitField0_ = bitField0_;
      }

      private void buildPartialOneofs(codex.agent.v1.Agent.ChatRequest result) {
        result.payloadCase_ = payloadCase_;
        result.payload_ = this.payload_;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof codex.agent.v1.Agent.ChatRequest) {
          return mergeFrom((codex.agent.v1.Agent.ChatRequest)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(codex.agent.v1.Agent.ChatRequest other) {
        if (other == codex.agent.v1.Agent.ChatRequest.getDefaultInstance()) return this;
        switch (other.getPayloadCase()) {
          case SESSION_CONFIG_JSON: {
            payloadCase_ = 1;
            payload_ = other.payload_;
            onChanged();
            break;
          }
          case AUDIO_CHUNK: {
            setAudioChunk(other.getAudioChunk());
            break;
          }
          case TEXT_CHUNK: {
            payloadCase_ = 3;
            payload_ = other.payload_;
            onChanged();
            break;
          }
          case PAYLOAD_NOT_SET: {
            break;
          }
        }
        this.mergeUnknownFields(other.getUnknownFields());
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                java.lang.String s = input.readStringRequireUtf8();
                payloadCase_ = 1;
                payload_ = s;
                break;
              } // case 10
              case 18: {
                payload_ = input.readBytes();
                payloadCase_ = 2;
                break;
              } // case 18
              case 26: {
                java.lang.String s = input.readStringRequireUtf8();
                payloadCase_ = 3;
                payload_ = s;
                break;
              } // case 26
              default: {
                if (!super.parseUnknownField(input, extensionRegistry, tag)) {
                  done = true; // was an endgroup tag
                }
                break;
              } // default:
            } // switch (tag)
          } // while (!done)
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.unwrapIOException();
        } finally {
          onChanged();
        } // finally
        return this;
      }
      private int payloadCase_ = 0;
      private java.lang.Object payload_;
      public PayloadCase
          getPayloadCase() {
        return PayloadCase.forNumber(
            payloadCase_);
      }

      public Builder clearPayload() {
        payloadCase_ = 0;
        payload_ = null;
        onChanged();
        return this;
      }

      private int bitField0_;

      /**
       * <pre>
       * 握手帧：客户端发送的第一条消息，包含配置
       * </pre>
       *
       * <code>string session_config_json = 1;</code>
       * @return Whether the sessionConfigJson field is set.
       */
      @java.lang.Override
      public boolean hasSessionConfigJson() {
        return payloadCase_ == 1;
      }
      /**
       * <pre>
       * 握手帧：客户端发送的第一条消息，包含配置
       * </pre>
       *
       * <code>string session_config_json = 1;</code>
       * @return The sessionConfigJson.
       */
      @java.lang.Override
      public java.lang.String getSessionConfigJson() {
        java.lang.Object ref = "";
        if (payloadCase_ == 1) {
          ref = payload_;
        }
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (payloadCase_ == 1) {
            payload_ = s;
          }
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * 握手帧：客户端发送的第一条消息，包含配置
       * </pre>
       *
       * <code>string session_config_json = 1;</code>
       * @return The bytes for sessionConfigJson.
       */
      @java.lang.Override
      public com.google.protobuf.ByteString
          getSessionConfigJsonBytes() {
        java.lang.Object ref = "";
        if (payloadCase_ == 1) {
          ref = payload_;
        }
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          if (payloadCase_ == 1) {
            payload_ = b;
          }
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * 握手帧：客户端发送的第一条消息，包含配置
       * </pre>
       *
       * <code>string session_config_json = 1;</code>
       * @param value The sessionConfigJson to set.
       * @return This builder for chaining.
       */
      public Builder setSessionConfigJson(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        payloadCase_ = 1;
        payload_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 握手帧：客户端发送的第一条消息，包含配置
       * </pre>
       *
       * <code>string session_config_json = 1;</code>
       * @return This builder for chaining.
       */
      public Builder clearSessionConfigJson() {
        if (payloadCase_ == 1) {
          payloadCase_ = 0;
          payload_ = null;
          onChanged();
        }
        return this;
      }
      /**
       * <pre>
       * 握手帧：客户端发送的第一条消息，包含配置
       * </pre>
       *
       * <code>string session_config_json = 1;</code>
       * @param value The bytes for sessionConfigJson to set.
       * @return This builder for chaining.
       */
      public Builder setSessionConfigJsonBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        payloadCase_ = 1;
        payload_ = value;
        onChanged();
        return this;
      }

      /**
       * <pre>
       * 音频帧：持续推送的 PCM/Opus 数据
       * </pre>
       *
       * <code>bytes audio_chunk = 2;</code>
       * @return Whether the audioChunk field is set.
       */
      public boolean hasAudioChunk() {
        return payloadCase_ == 2;
      }
      /**
       * <pre>
       * 音频帧：持续推送的 PCM/Opus 数据
       * </pre>
       *
       * <code>bytes audio_chunk = 2;</code>
       * @return The audioChunk.
       */
      public com.google.protobuf.ByteString getAudioChunk() {
        if (payloadCase_ == 2) {
          return (com.google.protobuf.ByteString) payload_;
        }
        return com.google.protobuf.ByteString.EMPTY;
      }
      /**
       * <pre>
       * 音频帧：持续推送的 PCM/Opus 数据
       * </pre>
       *
       * <code>bytes audio_chunk = 2;</code>
       * @param value The audioChunk to set.
       * @return This builder for chaining.
       */
      public Builder setAudioChunk(com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        payloadCase_ = 2;
        payload_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 音频帧：持续推送的 PCM/Opus 数据
       * </pre>
       *
       * <code>bytes audio_chunk = 2;</code>
       * @return This builder for chaining.
       */
      public Builder clearAudioChunk() {
        if (payloadCase_ == 2) {
          payloadCase_ = 0;
          payload_ = null;
          onChanged();
        }
        return this;
      }

      /**
       * <pre>
       * 文本帧：用户插话或纯文本交互
       * </pre>
       *
       * <code>string text_chunk = 3;</code>
       * @return Whether the textChunk field is set.
       */
      @java.lang.Override
      public boolean hasTextChunk() {
        return payloadCase_ == 3;
      }
      /**
       * <pre>
       * 文本帧：用户插话或纯文本交互
       * </pre>
       *
       * <code>string text_chunk = 3;</code>
       * @return The textChunk.
       */
      @java.lang.Override
      public java.lang.String getTextChunk() {
        java.lang.Object ref = "";
        if (payloadCase_ == 3) {
          ref = payload_;
        }
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (payloadCase_ == 3) {
            payload_ = s;
          }
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * 文本帧：用户插话或纯文本交互
       * </pre>
       *
       * <code>string text_chunk = 3;</code>
       * @return The bytes for textChunk.
       */
      @java.lang.Override
      public com.google.protobuf.ByteString
          getTextChunkBytes() {
        java.lang.Object ref = "";
        if (payloadCase_ == 3) {
          ref = payload_;
        }
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          if (payloadCase_ == 3) {
            payload_ = b;
          }
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * 文本帧：用户插话或纯文本交互
       * </pre>
       *
       * <code>string text_chunk = 3;</code>
       * @param value The textChunk to set.
       * @return This builder for chaining.
       */
      public Builder setTextChunk(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        payloadCase_ = 3;
        payload_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 文本帧：用户插话或纯文本交互
       * </pre>
       *
       * <code>string text_chunk = 3;</code>
       * @return This builder for chaining.
       */
      public Builder clearTextChunk() {
        if (payloadCase_ == 3) {
          payloadCase_ = 0;
          payload_ = null;
          onChanged();
        }
        return this;
      }
      /**
       * <pre>
       * 文本帧：用户插话或纯文本交互
       * </pre>
       *
       * <code>string text_chunk = 3;</code>
       * @param value The bytes for textChunk to set.
       * @return This builder for chaining.
       */
      public Builder setTextChunkBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        payloadCase_ = 3;
        payload_ = value;
        onChanged();
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:codex.agent.v1.ChatRequest)
    }

    // @@protoc_insertion_point(class_scope:codex.agent.v1.ChatRequest)
    private static final codex.agent.v1.Agent.ChatRequest DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new codex.agent.v1.Agent.ChatRequest();
    }

    public static codex.agent.v1.Agent.ChatRequest getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<ChatRequest>
        PARSER = new com.google.protobuf.AbstractParser<ChatRequest>() {
      @java.lang.Override
      public ChatRequest parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        Builder builder = newBuilder();
        try {
          builder.mergeFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(builder.buildPartial());
        } catch (com.google.protobuf.UninitializedMessageException e) {
          throw e.asInvalidProtocolBufferException().setUnfinishedMessage(builder.buildPartial());
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(e)
              .setUnfinishedMessage(builder.buildPartial());
        }
        return builder.buildPartial();
      }
    };

    public static com.google.protobuf.Parser<ChatRequest> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<ChatRequest> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public codex.agent.v1.Agent.ChatRequest getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  public interface ChatResponseOrBuilder extends
      // @@protoc_insertion_point(interface_extends:codex.agent.v1.ChatResponse)
      com.google.protobuf.MessageOrBuilder {

    /**
     * <pre>
     * STT 中间结果 (例如 "今天...")
     * </pre>
     *
     * <code>string stt_intermediate = 1;</code>
     * @return Whether the sttIntermediate field is set.
     */
    boolean hasSttIntermediate();
    /**
     * <pre>
     * STT 中间结果 (例如 "今天...")
     * </pre>
     *
     * <code>string stt_intermediate = 1;</code>
     * @return The sttIntermediate.
     */
    java.lang.String getSttIntermediate();
    /**
     * <pre>
     * STT 中间结果 (例如 "今天...")
     * </pre>
     *
     * <code>string stt_intermediate = 1;</code>
     * @return The bytes for sttIntermediate.
     */
    com.google.protobuf.ByteString
        getSttIntermediateBytes();

    /**
     * <pre>
     * 智能体回答增量 (LLM Token)
     * </pre>
     *
     * <code>string agent_response_delta = 2;</code>
     * @return Whether the agentResponseDelta field is set.
     */
    boolean hasAgentResponseDelta();
    /**
     * <pre>
     * 智能体回答增量 (LLM Token)
     * </pre>
     *
     * <code>string agent_response_delta = 2;</code>
     * @return The agentResponseDelta.
     */
    java.lang.String getAgentResponseDelta();
    /**
     * <pre>
     * 智能体回答增量 (LLM Token)
     * </pre>
     *
     * <code>string agent_response_delta = 2;</code>
     * @return The bytes for agentResponseDelta.
     */
    com.google.protobuf.ByteString
        getAgentResponseDeltaBytes();

    /**
     * <pre>
     * 错误信息
     * </pre>
     *
     * <code>string error_message = 3;</code>
     * @return Whether the errorMessage field is set.
     */
    boolean hasErrorMessage();
    /**
     * <pre>
     * 错误信息
     * </pre>
     *
     * <code>string error_message = 3;</code>
     * @return The errorMessage.
     */
    java.lang.String getErrorMessage();
    /**
     * <pre>
     * 错误信息
     * </pre>
     *
     * <code>string error_message = 3;</code>
     * @return The bytes for errorMessage.
     */
    com.google.protobuf.ByteString
        getErrorMessageBytes();

    codex.agent.v1.Agent.ChatResponse.PayloadCase getPayloadCase();
  }
  /**
   * Protobuf type {@code codex.agent.v1.ChatResponse}
   */
  public static final class ChatResponse extends
      com.google.protobuf.GeneratedMessageV3 implements
      // @@protoc_insertion_point(message_implements:codex.agent.v1.ChatResponse)
      ChatResponseOrBuilder {
  private static final long serialVersionUID = 0L;
    // Use ChatResponse.newBuilder() to construct.
    private ChatResponse(com.google.protobuf.GeneratedMessageV3.Builder<?> builder) {
      super(builder);
    }
    private ChatResponse() {
    }

    @java.lang.Override
    @SuppressWarnings({"unused"})
    protected java.lang.Object newInstance(
        UnusedPrivateParameter unused) {
      return new ChatResponse();
    }

    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatResponse_descriptor;
    }

    @java.lang.Override
    protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatResponse_fieldAccessorTable
          .ensureFieldAccessorsInitialized(
              codex.agent.v1.Agent.ChatResponse.class, codex.agent.v1.Agent.ChatResponse.Builder.class);
    }

    private int payloadCase_ = 0;
    @SuppressWarnings("serial")
    private java.lang.Object payload_;
    public enum PayloadCase
        implements com.google.protobuf.Internal.EnumLite,
            com.google.protobuf.AbstractMessage.InternalOneOfEnum {
      STT_INTERMEDIATE(1),
      AGENT_RESPONSE_DELTA(2),
      ERROR_MESSAGE(3),
      PAYLOAD_NOT_SET(0);
      private final int value;
      private PayloadCase(int value) {
        this.value = value;
      }
      /**
       * @param value The number of the enum to look for.
       * @return The enum associated with the given number.
       * @deprecated Use {@link #forNumber(int)} instead.
       */
      @java.lang.Deprecated
      public static PayloadCase valueOf(int value) {
        return forNumber(value);
      }

      public static PayloadCase forNumber(int value) {
        switch (value) {
          case 1: return STT_INTERMEDIATE;
          case 2: return AGENT_RESPONSE_DELTA;
          case 3: return ERROR_MESSAGE;
          case 0: return PAYLOAD_NOT_SET;
          default: return null;
        }
      }
      public int getNumber() {
        return this.value;
      }
    };

    public PayloadCase
    getPayloadCase() {
      return PayloadCase.forNumber(
          payloadCase_);
    }

    public static final int STT_INTERMEDIATE_FIELD_NUMBER = 1;
    /**
     * <pre>
     * STT 中间结果 (例如 "今天...")
     * </pre>
     *
     * <code>string stt_intermediate = 1;</code>
     * @return Whether the sttIntermediate field is set.
     */
    public boolean hasSttIntermediate() {
      return payloadCase_ == 1;
    }
    /**
     * <pre>
     * STT 中间结果 (例如 "今天...")
     * </pre>
     *
     * <code>string stt_intermediate = 1;</code>
     * @return The sttIntermediate.
     */
    public java.lang.String getSttIntermediate() {
      java.lang.Object ref = "";
      if (payloadCase_ == 1) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (payloadCase_ == 1) {
          payload_ = s;
        }
        return s;
      }
    }
    /**
     * <pre>
     * STT 中间结果 (例如 "今天...")
     * </pre>
     *
     * <code>string stt_intermediate = 1;</code>
     * @return The bytes for sttIntermediate.
     */
    public com.google.protobuf.ByteString
        getSttIntermediateBytes() {
      java.lang.Object ref = "";
      if (payloadCase_ == 1) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        if (payloadCase_ == 1) {
          payload_ = b;
        }
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int AGENT_RESPONSE_DELTA_FIELD_NUMBER = 2;
    /**
     * <pre>
     * 智能体回答增量 (LLM Token)
     * </pre>
     *
     * <code>string agent_response_delta = 2;</code>
     * @return Whether the agentResponseDelta field is set.
     */
    public boolean hasAgentResponseDelta() {
      return payloadCase_ == 2;
    }
    /**
     * <pre>
     * 智能体回答增量 (LLM Token)
     * </pre>
     *
     * <code>string agent_response_delta = 2;</code>
     * @return The agentResponseDelta.
     */
    public java.lang.String getAgentResponseDelta() {
      java.lang.Object ref = "";
      if (payloadCase_ == 2) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (payloadCase_ == 2) {
          payload_ = s;
        }
        return s;
      }
    }
    /**
     * <pre>
     * 智能体回答增量 (LLM Token)
     * </pre>
     *
     * <code>string agent_response_delta = 2;</code>
     * @return The bytes for agentResponseDelta.
     */
    public com.google.protobuf.ByteString
        getAgentResponseDeltaBytes() {
      java.lang.Object ref = "";
      if (payloadCase_ == 2) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        if (payloadCase_ == 2) {
          payload_ = b;
        }
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    public static final int ERROR_MESSAGE_FIELD_NUMBER = 3;
    /**
     * <pre>
     * 错误信息
     * </pre>
     *
     * <code>string error_message = 3;</code>
     * @return Whether the errorMessage field is set.
     */
    public boolean hasErrorMessage() {
      return payloadCase_ == 3;
    }
    /**
     * <pre>
     * 错误信息
     * </pre>
     *
     * <code>string error_message = 3;</code>
     * @return The errorMessage.
     */
    public java.lang.String getErrorMessage() {
      java.lang.Object ref = "";
      if (payloadCase_ == 3) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        return (java.lang.String) ref;
      } else {
        com.google.protobuf.ByteString bs = 
            (com.google.protobuf.ByteString) ref;
        java.lang.String s = bs.toStringUtf8();
        if (payloadCase_ == 3) {
          payload_ = s;
        }
        return s;
      }
    }
    /**
     * <pre>
     * 错误信息
     * </pre>
     *
     * <code>string error_message = 3;</code>
     * @return The bytes for errorMessage.
     */
    public com.google.protobuf.ByteString
        getErrorMessageBytes() {
      java.lang.Object ref = "";
      if (payloadCase_ == 3) {
        ref = payload_;
      }
      if (ref instanceof java.lang.String) {
        com.google.protobuf.ByteString b = 
            com.google.protobuf.ByteString.copyFromUtf8(
                (java.lang.String) ref);
        if (payloadCase_ == 3) {
          payload_ = b;
        }
        return b;
      } else {
        return (com.google.protobuf.ByteString) ref;
      }
    }

    private byte memoizedIsInitialized = -1;
    @java.lang.Override
    public final boolean isInitialized() {
      byte isInitialized = memoizedIsInitialized;
      if (isInitialized == 1) return true;
      if (isInitialized == 0) return false;

      memoizedIsInitialized = 1;
      return true;
    }

    @java.lang.Override
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      if (payloadCase_ == 1) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 1, payload_);
      }
      if (payloadCase_ == 2) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 2, payload_);
      }
      if (payloadCase_ == 3) {
        com.google.protobuf.GeneratedMessageV3.writeString(output, 3, payload_);
      }
      getUnknownFields().writeTo(output);
    }

    @java.lang.Override
    public int getSerializedSize() {
      int size = memoizedSize;
      if (size != -1) return size;

      size = 0;
      if (payloadCase_ == 1) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(1, payload_);
      }
      if (payloadCase_ == 2) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(2, payload_);
      }
      if (payloadCase_ == 3) {
        size += com.google.protobuf.GeneratedMessageV3.computeStringSize(3, payload_);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSize = size;
      return size;
    }

    @java.lang.Override
    public boolean equals(final java.lang.Object obj) {
      if (obj == this) {
       return true;
      }
      if (!(obj instanceof codex.agent.v1.Agent.ChatResponse)) {
        return super.equals(obj);
      }
      codex.agent.v1.Agent.ChatResponse other = (codex.agent.v1.Agent.ChatResponse) obj;

      if (!getPayloadCase().equals(other.getPayloadCase())) return false;
      switch (payloadCase_) {
        case 1:
          if (!getSttIntermediate()
              .equals(other.getSttIntermediate())) return false;
          break;
        case 2:
          if (!getAgentResponseDelta()
              .equals(other.getAgentResponseDelta())) return false;
          break;
        case 3:
          if (!getErrorMessage()
              .equals(other.getErrorMessage())) return false;
          break;
        case 0:
        default:
      }
      if (!getUnknownFields().equals(other.getUnknownFields())) return false;
      return true;
    }

    @java.lang.Override
    public int hashCode() {
      if (memoizedHashCode != 0) {
        return memoizedHashCode;
      }
      int hash = 41;
      hash = (19 * hash) + getDescriptor().hashCode();
      switch (payloadCase_) {
        case 1:
          hash = (37 * hash) + STT_INTERMEDIATE_FIELD_NUMBER;
          hash = (53 * hash) + getSttIntermediate().hashCode();
          break;
        case 2:
          hash = (37 * hash) + AGENT_RESPONSE_DELTA_FIELD_NUMBER;
          hash = (53 * hash) + getAgentResponseDelta().hashCode();
          break;
        case 3:
          hash = (37 * hash) + ERROR_MESSAGE_FIELD_NUMBER;
          hash = (53 * hash) + getErrorMessage().hashCode();
          break;
        case 0:
        default:
      }
      hash = (29 * hash) + getUnknownFields().hashCode();
      memoizedHashCode = hash;
      return hash;
    }

    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        java.nio.ByteBuffer data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        java.nio.ByteBuffer data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return PARSER.parseFrom(data, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    public static codex.agent.v1.Agent.ChatResponse parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input);
    }

    public static codex.agent.v1.Agent.ChatResponse parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseDelimitedWithIOException(PARSER, input, extensionRegistry);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input);
    }
    public static codex.agent.v1.Agent.ChatResponse parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return com.google.protobuf.GeneratedMessageV3
          .parseWithIOException(PARSER, input, extensionRegistry);
    }

    @java.lang.Override
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder() {
      return DEFAULT_INSTANCE.toBuilder();
    }
    public static Builder newBuilder(codex.agent.v1.Agent.ChatResponse prototype) {
      return DEFAULT_INSTANCE.toBuilder().mergeFrom(prototype);
    }
    @java.lang.Override
    public Builder toBuilder() {
      return this == DEFAULT_INSTANCE
          ? new Builder() : new Builder().mergeFrom(this);
    }

    @java.lang.Override
    protected Builder newBuilderForType(
        com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
      Builder builder = new Builder(parent);
      return builder;
    }
    /**
     * Protobuf type {@code codex.agent.v1.ChatResponse}
     */
    public static final class Builder extends
        com.google.protobuf.GeneratedMessageV3.Builder<Builder> implements
        // @@protoc_insertion_point(builder_implements:codex.agent.v1.ChatResponse)
        codex.agent.v1.Agent.ChatResponseOrBuilder {
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatResponse_descriptor;
      }

      @java.lang.Override
      protected com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatResponse_fieldAccessorTable
            .ensureFieldAccessorsInitialized(
                codex.agent.v1.Agent.ChatResponse.class, codex.agent.v1.Agent.ChatResponse.Builder.class);
      }

      // Construct using codex.agent.v1.Agent.ChatResponse.newBuilder()
      private Builder() {

      }

      private Builder(
          com.google.protobuf.GeneratedMessageV3.BuilderParent parent) {
        super(parent);

      }
      @java.lang.Override
      public Builder clear() {
        super.clear();
        bitField0_ = 0;
        payloadCase_ = 0;
        payload_ = null;
        return this;
      }

      @java.lang.Override
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return codex.agent.v1.Agent.internal_static_codex_agent_v1_ChatResponse_descriptor;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.ChatResponse getDefaultInstanceForType() {
        return codex.agent.v1.Agent.ChatResponse.getDefaultInstance();
      }

      @java.lang.Override
      public codex.agent.v1.Agent.ChatResponse build() {
        codex.agent.v1.Agent.ChatResponse result = buildPartial();
        if (!result.isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return result;
      }

      @java.lang.Override
      public codex.agent.v1.Agent.ChatResponse buildPartial() {
        codex.agent.v1.Agent.ChatResponse result = new codex.agent.v1.Agent.ChatResponse(this);
        if (bitField0_ != 0) { buildPartial0(result); }
        buildPartialOneofs(result);
        onBuilt();
        return result;
      }

      private void buildPartial0(codex.agent.v1.Agent.ChatResponse result) {
        int from_bitField0_ = bitField0_;
      }

      private void buildPartialOneofs(codex.agent.v1.Agent.ChatResponse result) {
        result.payloadCase_ = payloadCase_;
        result.payload_ = this.payload_;
      }

      @java.lang.Override
      public Builder clone() {
        return super.clone();
      }
      @java.lang.Override
      public Builder setField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.setField(field, value);
      }
      @java.lang.Override
      public Builder clearField(
          com.google.protobuf.Descriptors.FieldDescriptor field) {
        return super.clearField(field);
      }
      @java.lang.Override
      public Builder clearOneof(
          com.google.protobuf.Descriptors.OneofDescriptor oneof) {
        return super.clearOneof(oneof);
      }
      @java.lang.Override
      public Builder setRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          int index, java.lang.Object value) {
        return super.setRepeatedField(field, index, value);
      }
      @java.lang.Override
      public Builder addRepeatedField(
          com.google.protobuf.Descriptors.FieldDescriptor field,
          java.lang.Object value) {
        return super.addRepeatedField(field, value);
      }
      @java.lang.Override
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof codex.agent.v1.Agent.ChatResponse) {
          return mergeFrom((codex.agent.v1.Agent.ChatResponse)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }

      public Builder mergeFrom(codex.agent.v1.Agent.ChatResponse other) {
        if (other == codex.agent.v1.Agent.ChatResponse.getDefaultInstance()) return this;
        switch (other.getPayloadCase()) {
          case STT_INTERMEDIATE: {
            payloadCase_ = 1;
            payload_ = other.payload_;
            onChanged();
            break;
          }
          case AGENT_RESPONSE_DELTA: {
            payloadCase_ = 2;
            payload_ = other.payload_;
            onChanged();
            break;
          }
          case ERROR_MESSAGE: {
            payloadCase_ = 3;
            payload_ = other.payload_;
            onChanged();
            break;
          }
          case PAYLOAD_NOT_SET: {
            break;
          }
        }
        this.mergeUnknownFields(other.getUnknownFields());
        onChanged();
        return this;
      }

      @java.lang.Override
      public final boolean isInitialized() {
        return true;
      }

      @java.lang.Override
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        if (extensionRegistry == null) {
          throw new java.lang.NullPointerException();
        }
        try {
          boolean done = false;
          while (!done) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                done = true;
                break;
              case 10: {
                java.lang.String s = input.readStringRequireUtf8();
                payloadCase_ = 1;
                payload_ = s;
                break;
              } // case 10
              case 18: {
                java.lang.String s = input.readStringRequireUtf8();
                payloadCase_ = 2;
                payload_ = s;
                break;
              } // case 18
              case 26: {
                java.lang.String s = input.readStringRequireUtf8();
                payloadCase_ = 3;
                payload_ = s;
                break;
              } // case 26
              default: {
                if (!super.parseUnknownField(input, extensionRegistry, tag)) {
                  done = true; // was an endgroup tag
                }
                break;
              } // default:
            } // switch (tag)
          } // while (!done)
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.unwrapIOException();
        } finally {
          onChanged();
        } // finally
        return this;
      }
      private int payloadCase_ = 0;
      private java.lang.Object payload_;
      public PayloadCase
          getPayloadCase() {
        return PayloadCase.forNumber(
            payloadCase_);
      }

      public Builder clearPayload() {
        payloadCase_ = 0;
        payload_ = null;
        onChanged();
        return this;
      }

      private int bitField0_;

      /**
       * <pre>
       * STT 中间结果 (例如 "今天...")
       * </pre>
       *
       * <code>string stt_intermediate = 1;</code>
       * @return Whether the sttIntermediate field is set.
       */
      @java.lang.Override
      public boolean hasSttIntermediate() {
        return payloadCase_ == 1;
      }
      /**
       * <pre>
       * STT 中间结果 (例如 "今天...")
       * </pre>
       *
       * <code>string stt_intermediate = 1;</code>
       * @return The sttIntermediate.
       */
      @java.lang.Override
      public java.lang.String getSttIntermediate() {
        java.lang.Object ref = "";
        if (payloadCase_ == 1) {
          ref = payload_;
        }
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (payloadCase_ == 1) {
            payload_ = s;
          }
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * STT 中间结果 (例如 "今天...")
       * </pre>
       *
       * <code>string stt_intermediate = 1;</code>
       * @return The bytes for sttIntermediate.
       */
      @java.lang.Override
      public com.google.protobuf.ByteString
          getSttIntermediateBytes() {
        java.lang.Object ref = "";
        if (payloadCase_ == 1) {
          ref = payload_;
        }
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          if (payloadCase_ == 1) {
            payload_ = b;
          }
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * STT 中间结果 (例如 "今天...")
       * </pre>
       *
       * <code>string stt_intermediate = 1;</code>
       * @param value The sttIntermediate to set.
       * @return This builder for chaining.
       */
      public Builder setSttIntermediate(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        payloadCase_ = 1;
        payload_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * STT 中间结果 (例如 "今天...")
       * </pre>
       *
       * <code>string stt_intermediate = 1;</code>
       * @return This builder for chaining.
       */
      public Builder clearSttIntermediate() {
        if (payloadCase_ == 1) {
          payloadCase_ = 0;
          payload_ = null;
          onChanged();
        }
        return this;
      }
      /**
       * <pre>
       * STT 中间结果 (例如 "今天...")
       * </pre>
       *
       * <code>string stt_intermediate = 1;</code>
       * @param value The bytes for sttIntermediate to set.
       * @return This builder for chaining.
       */
      public Builder setSttIntermediateBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        payloadCase_ = 1;
        payload_ = value;
        onChanged();
        return this;
      }

      /**
       * <pre>
       * 智能体回答增量 (LLM Token)
       * </pre>
       *
       * <code>string agent_response_delta = 2;</code>
       * @return Whether the agentResponseDelta field is set.
       */
      @java.lang.Override
      public boolean hasAgentResponseDelta() {
        return payloadCase_ == 2;
      }
      /**
       * <pre>
       * 智能体回答增量 (LLM Token)
       * </pre>
       *
       * <code>string agent_response_delta = 2;</code>
       * @return The agentResponseDelta.
       */
      @java.lang.Override
      public java.lang.String getAgentResponseDelta() {
        java.lang.Object ref = "";
        if (payloadCase_ == 2) {
          ref = payload_;
        }
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (payloadCase_ == 2) {
            payload_ = s;
          }
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * 智能体回答增量 (LLM Token)
       * </pre>
       *
       * <code>string agent_response_delta = 2;</code>
       * @return The bytes for agentResponseDelta.
       */
      @java.lang.Override
      public com.google.protobuf.ByteString
          getAgentResponseDeltaBytes() {
        java.lang.Object ref = "";
        if (payloadCase_ == 2) {
          ref = payload_;
        }
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          if (payloadCase_ == 2) {
            payload_ = b;
          }
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * 智能体回答增量 (LLM Token)
       * </pre>
       *
       * <code>string agent_response_delta = 2;</code>
       * @param value The agentResponseDelta to set.
       * @return This builder for chaining.
       */
      public Builder setAgentResponseDelta(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        payloadCase_ = 2;
        payload_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 智能体回答增量 (LLM Token)
       * </pre>
       *
       * <code>string agent_response_delta = 2;</code>
       * @return This builder for chaining.
       */
      public Builder clearAgentResponseDelta() {
        if (payloadCase_ == 2) {
          payloadCase_ = 0;
          payload_ = null;
          onChanged();
        }
        return this;
      }
      /**
       * <pre>
       * 智能体回答增量 (LLM Token)
       * </pre>
       *
       * <code>string agent_response_delta = 2;</code>
       * @param value The bytes for agentResponseDelta to set.
       * @return This builder for chaining.
       */
      public Builder setAgentResponseDeltaBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        payloadCase_ = 2;
        payload_ = value;
        onChanged();
        return this;
      }

      /**
       * <pre>
       * 错误信息
       * </pre>
       *
       * <code>string error_message = 3;</code>
       * @return Whether the errorMessage field is set.
       */
      @java.lang.Override
      public boolean hasErrorMessage() {
        return payloadCase_ == 3;
      }
      /**
       * <pre>
       * 错误信息
       * </pre>
       *
       * <code>string error_message = 3;</code>
       * @return The errorMessage.
       */
      @java.lang.Override
      public java.lang.String getErrorMessage() {
        java.lang.Object ref = "";
        if (payloadCase_ == 3) {
          ref = payload_;
        }
        if (!(ref instanceof java.lang.String)) {
          com.google.protobuf.ByteString bs =
              (com.google.protobuf.ByteString) ref;
          java.lang.String s = bs.toStringUtf8();
          if (payloadCase_ == 3) {
            payload_ = s;
          }
          return s;
        } else {
          return (java.lang.String) ref;
        }
      }
      /**
       * <pre>
       * 错误信息
       * </pre>
       *
       * <code>string error_message = 3;</code>
       * @return The bytes for errorMessage.
       */
      @java.lang.Override
      public com.google.protobuf.ByteString
          getErrorMessageBytes() {
        java.lang.Object ref = "";
        if (payloadCase_ == 3) {
          ref = payload_;
        }
        if (ref instanceof String) {
          com.google.protobuf.ByteString b = 
              com.google.protobuf.ByteString.copyFromUtf8(
                  (java.lang.String) ref);
          if (payloadCase_ == 3) {
            payload_ = b;
          }
          return b;
        } else {
          return (com.google.protobuf.ByteString) ref;
        }
      }
      /**
       * <pre>
       * 错误信息
       * </pre>
       *
       * <code>string error_message = 3;</code>
       * @param value The errorMessage to set.
       * @return This builder for chaining.
       */
      public Builder setErrorMessage(
          java.lang.String value) {
        if (value == null) { throw new NullPointerException(); }
        payloadCase_ = 3;
        payload_ = value;
        onChanged();
        return this;
      }
      /**
       * <pre>
       * 错误信息
       * </pre>
       *
       * <code>string error_message = 3;</code>
       * @return This builder for chaining.
       */
      public Builder clearErrorMessage() {
        if (payloadCase_ == 3) {
          payloadCase_ = 0;
          payload_ = null;
          onChanged();
        }
        return this;
      }
      /**
       * <pre>
       * 错误信息
       * </pre>
       *
       * <code>string error_message = 3;</code>
       * @param value The bytes for errorMessage to set.
       * @return This builder for chaining.
       */
      public Builder setErrorMessageBytes(
          com.google.protobuf.ByteString value) {
        if (value == null) { throw new NullPointerException(); }
        checkByteStringIsUtf8(value);
        payloadCase_ = 3;
        payload_ = value;
        onChanged();
        return this;
      }
      @java.lang.Override
      public final Builder setUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.setUnknownFields(unknownFields);
      }

      @java.lang.Override
      public final Builder mergeUnknownFields(
          final com.google.protobuf.UnknownFieldSet unknownFields) {
        return super.mergeUnknownFields(unknownFields);
      }


      // @@protoc_insertion_point(builder_scope:codex.agent.v1.ChatResponse)
    }

    // @@protoc_insertion_point(class_scope:codex.agent.v1.ChatResponse)
    private static final codex.agent.v1.Agent.ChatResponse DEFAULT_INSTANCE;
    static {
      DEFAULT_INSTANCE = new codex.agent.v1.Agent.ChatResponse();
    }

    public static codex.agent.v1.Agent.ChatResponse getDefaultInstance() {
      return DEFAULT_INSTANCE;
    }

    private static final com.google.protobuf.Parser<ChatResponse>
        PARSER = new com.google.protobuf.AbstractParser<ChatResponse>() {
      @java.lang.Override
      public ChatResponse parsePartialFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        Builder builder = newBuilder();
        try {
          builder.mergeFrom(input, extensionRegistry);
        } catch (com.google.protobuf.InvalidProtocolBufferException e) {
          throw e.setUnfinishedMessage(builder.buildPartial());
        } catch (com.google.protobuf.UninitializedMessageException e) {
          throw e.asInvalidProtocolBufferException().setUnfinishedMessage(builder.buildPartial());
        } catch (java.io.IOException e) {
          throw new com.google.protobuf.InvalidProtocolBufferException(e)
              .setUnfinishedMessage(builder.buildPartial());
        }
        return builder.buildPartial();
      }
    };

    public static com.google.protobuf.Parser<ChatResponse> parser() {
      return PARSER;
    }

    @java.lang.Override
    public com.google.protobuf.Parser<ChatResponse> getParserForType() {
      return PARSER;
    }

    @java.lang.Override
    public codex.agent.v1.Agent.ChatResponse getDefaultInstanceForType() {
      return DEFAULT_INSTANCE;
    }

  }

  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_codex_agent_v1_RunTaskRequest_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_codex_agent_v1_RunTaskRequest_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_codex_agent_v1_UserInput_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_codex_agent_v1_UserInput_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_codex_agent_v1_RunTaskResponse_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_codex_agent_v1_RunTaskResponse_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_codex_agent_v1_TokenUsage_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_codex_agent_v1_TokenUsage_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_codex_agent_v1_ChatRequest_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_codex_agent_v1_ChatRequest_fieldAccessorTable;
  private static final com.google.protobuf.Descriptors.Descriptor
    internal_static_codex_agent_v1_ChatResponse_descriptor;
  private static final 
    com.google.protobuf.GeneratedMessageV3.FieldAccessorTable
      internal_static_codex_agent_v1_ChatResponse_fieldAccessorTable;

  public static com.google.protobuf.Descriptors.FileDescriptor
      getDescriptor() {
    return descriptor;
  }
  private static  com.google.protobuf.Descriptors.FileDescriptor
      descriptor;
  static {
    java.lang.String[] descriptorData = {
      "\n\013agent.proto\022\016codex.agent.v1\"\177\n\016RunTask" +
      "Request\022\022\n\nsession_id\030\001 \001(\t\022\023\n\013config_js" +
      "on\030\002 \001(\t\022\032\n\022history_items_json\030\003 \003(\t\022(\n\005" +
      "input\030\004 \001(\0132\031.codex.agent.v1.UserInput\"&" +
      "\n\tUserInput\022\016\n\004text\030\001 \001(\tH\000B\t\n\007content\"\306" +
      "\002\n\017RunTaskResponse\0226\n\006status\030\001 \001(\0162&.cod" +
      "ex.agent.v1.RunTaskResponse.Status\022\026\n\016ne" +
      "w_items_json\030\002 \003(\t\022\026\n\016final_response\030\003 \001" +
      "(\t\022)\n\005usage\030\004 \001(\0132\032.codex.agent.v1.Token" +
      "Usage\022\025\n\rerror_message\030\005 \001(\t\022\022\n\ntext_del" +
      "ta\030\006 \001(\t\"u\n\006Status\022\026\n\022STATUS_UNSPECIFIED" +
      "\020\000\022\014\n\010FINISHED\020\001\022\023\n\017NEED_USER_INPUT\020\002\022\025\n" +
      "\021MAX_TURNS_REACHED\020\003\022\t\n\005ERROR\020\004\022\016\n\nPROCE" +
      "SSING\020\005\"T\n\nTokenUsage\022\025\n\rprompt_tokens\030\001" +
      " \001(\003\022\031\n\021completion_tokens\030\002 \001(\003\022\024\n\014total" +
      "_tokens\030\003 \001(\003\"d\n\013ChatRequest\022\035\n\023session_" +
      "config_json\030\001 \001(\tH\000\022\025\n\013audio_chunk\030\002 \001(\014" +
      "H\000\022\024\n\ntext_chunk\030\003 \001(\tH\000B\t\n\007payload\"n\n\014C" +
      "hatResponse\022\032\n\020stt_intermediate\030\001 \001(\tH\000\022" +
      "\036\n\024agent_response_delta\030\002 \001(\tH\000\022\027\n\rerror" +
      "_message\030\003 \001(\tH\000B\t\n\007payload2\253\001\n\014AgentSer" +
      "vice\022L\n\007RunTask\022\036.codex.agent.v1.RunTask" +
      "Request\032\037.codex.agent.v1.RunTaskResponse" +
      "0\001\022M\n\014RealtimeChat\022\033.codex.agent.v1.Chat" +
      "Request\032\034.codex.agent.v1.ChatResponse(\0010" +
      "\001b\006proto3"
    };
    descriptor = com.google.protobuf.Descriptors.FileDescriptor
      .internalBuildGeneratedFileFrom(descriptorData,
        new com.google.protobuf.Descriptors.FileDescriptor[] {
        });
    internal_static_codex_agent_v1_RunTaskRequest_descriptor =
      getDescriptor().getMessageTypes().get(0);
    internal_static_codex_agent_v1_RunTaskRequest_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_codex_agent_v1_RunTaskRequest_descriptor,
        new java.lang.String[] { "SessionId", "ConfigJson", "HistoryItemsJson", "Input", });
    internal_static_codex_agent_v1_UserInput_descriptor =
      getDescriptor().getMessageTypes().get(1);
    internal_static_codex_agent_v1_UserInput_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_codex_agent_v1_UserInput_descriptor,
        new java.lang.String[] { "Text", "Content", });
    internal_static_codex_agent_v1_RunTaskResponse_descriptor =
      getDescriptor().getMessageTypes().get(2);
    internal_static_codex_agent_v1_RunTaskResponse_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_codex_agent_v1_RunTaskResponse_descriptor,
        new java.lang.String[] { "Status", "NewItemsJson", "FinalResponse", "Usage", "ErrorMessage", "TextDelta", });
    internal_static_codex_agent_v1_TokenUsage_descriptor =
      getDescriptor().getMessageTypes().get(3);
    internal_static_codex_agent_v1_TokenUsage_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_codex_agent_v1_TokenUsage_descriptor,
        new java.lang.String[] { "PromptTokens", "CompletionTokens", "TotalTokens", });
    internal_static_codex_agent_v1_ChatRequest_descriptor =
      getDescriptor().getMessageTypes().get(4);
    internal_static_codex_agent_v1_ChatRequest_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_codex_agent_v1_ChatRequest_descriptor,
        new java.lang.String[] { "SessionConfigJson", "AudioChunk", "TextChunk", "Payload", });
    internal_static_codex_agent_v1_ChatResponse_descriptor =
      getDescriptor().getMessageTypes().get(5);
    internal_static_codex_agent_v1_ChatResponse_fieldAccessorTable = new
      com.google.protobuf.GeneratedMessageV3.FieldAccessorTable(
        internal_static_codex_agent_v1_ChatResponse_descriptor,
        new java.lang.String[] { "SttIntermediate", "AgentResponseDelta", "ErrorMessage", "Payload", });
  }

  // @@protoc_insertion_point(outer_class_scope)
}
